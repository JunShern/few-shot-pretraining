{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "Domain",
            "passed": false,
            "reason": "Document source unavailable."
        },
        {
            "criterion": "QuestionAnswerStrings",
            "passed": true,
            "reason": "Text contains Q:."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefix",
            "passed": false,
            "reason": "Found 0 list prefixes. (Min: 5)"
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "2492",
    "text": "Q:\n\nHow can I change SharedSection in registry using C#?\n\nRegarding this stackoverflow entry in my registry System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\SubSystems I have to change in value windows > string parameter SharedSection=SharedSection=1024,20480,768 the third value from 768 into 2048.\nWhat is the best way to do that via C#?\nI tried the following:\nvar myKey = Registry.LocalMachine.OpenSubKey(\"System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\SubSystems\").GetValue(\"Windows\");\n\nThe local variable myKey contains the following string:\n\"C:\\\\Windows\\\\system32\\\\csrss.exe ObjectDirectory=\\\\Windows SharedSection=1024,20480,768 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=sxssrv,4 ProfileControl=Off MaxRequestThreads=32\"\n\nDo I need to change the value 768 into 2048 using regular expressions or is there a better way?\n\nA:\n\nfor example:\ntry {\n    updateSharedSection(-1, -1, 2048);\n}\ncatch(Exception e) {\n    //..\n}\n\nfirst param the maximum size of the system-wide heap\nsecond param the size of each desktop heap\nthird param the size of the desktop heap that is associated with a non-interactive Windows station.\n\n...\npublic void updateSharedSection(int z)\n{\n    updateSharedSection(-1, -1, z);\n}\n\npublic void updateSharedSection(int x, int y, int z)\n{\n    RegistryKey key = Registry.LocalMachine.OpenSubKey(\"System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\SubSystems\", true);\n    key.SetValue(\"Windows\", _sharedSection(x, y, z, key.GetValue(\"Windows\").ToString()));\n}\n\n/// <param name=\"x\">the maximum size of the system-wide heap (in kilobytes) / -1 by default</param>\n/// <param name=\"y\">the size of each desktop heap / -1 by default</param>\n/// <param name=\"z\"> the size of the desktop heap that is associated with a non-interactive Windows station / -1 by default</param>\n/// <param name=\"raw\">raw data line</param>\n/// <returns></returns>\nprivate string _sharedSection(int x, int y, int z, string raw)\n{\n    Func<int, string, string> setVal = delegate(int xyz, string def) {\n        return (xyz == -1) ? def : xyz.ToString();\n    };\n\n    return Regex.Replace(raw, @\"SharedSection=(\\d+),(\\d+),(\\d+)\", delegate(Match m)\n    {\n        return string.Format(\n            \"SharedSection={0},{1},{2}\", \n                setVal(x, m.Groups[1].Value),\n                setVal(y, m.Groups[2].Value),\n                setVal(z, m.Groups[3].Value));\n    }, \n    RegexOptions.IgnoreCase);\n}\n\n"
}