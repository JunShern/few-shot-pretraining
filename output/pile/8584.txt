{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": true,
            "reason": "Text contains ['-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2', '2']."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "8584",
    "text": "Q:\n\nI am having trouble starting my node app in Bluemix\n\nI am trying to start my node app in Bluemix and getting a weird error.  My app works locally.  I have copied a snippet out of my app below.\nvar express = require(\"express\"),\n    app = express();\n\napp.get(\"/\", function (request, response) {\n    response.render(\"index\");\n});\n\napp.listen(8080);\n\nMy app never starts in Bluemix.  The error I am getting on Bluemix is below.\n[11:07 AM] jsloyer@Jeffs-MacBook-Pro [testapp]>cf push myapp\nCreating app myapp in org myemail@co.com / space demos as myemail@co.com...\nOK\n\nCreating route myapp.mybluemix.net...\nOK\n\nBinding myapp.mybluemix.net to myapp...\nOK\n\nUploading myapp...\nUploading app files from: /Users/jsloyer/Downloads/testapp\nUploading 566, 2 files\nDone uploading               \nOK\n\nStarting app myapp in org myemail@co.com / space demos as myemail@co.com...\n-----> Downloaded app package (4.0K)\n-----> Node.js Buildpack Version: v1.15-20150331-2231\n-----> Resetting git environment\n       TIP: Specify a node version in package.json\n-----> Defaulting to latest stable node: 0.10.38\n-----> Installing IBM SDK for Node.js from cache\n-----> Checking and configuring service extensions\n-----> Installing dependencies\n       npm WARN package.json bluemix-deploy@ No description\n       npm WARN package.json bluemix-deploy@ No repository field.\n       npm WARN package.json bluemix-deploy@ No README data\n       \u251c\u2500\u2500 methods@0.1.0\n       \u251c\u2500\u2500 parseurl@1.0.1\n       \u251c\u2500\u2500 merge-descriptors@0.0.2\n       \u251c\u2500\u2500 escape-html@1.0.1\n       \u251c\u2500\u2500 debug@0.8.1\n       \u251c\u2500\u2500 cookie-signature@1.0.3\n       \u251c\u2500\u2500 fresh@0.2.2\n       \u251c\u2500\u2500 range-parser@1.0.0\n       \u251c\u2500\u2500 qs@0.6.6\n       \u251c\u2500\u2500 buffer-crc32@0.2.1\n       \u251c\u2500\u2500 cookie@0.1.0\n       \u251c\u2500\u2500 path-to-regexp@0.1.2\n       \u251c\u2500\u2500 accepts@1.0.0 (negotiator@0.3.0, mime@1.2.11)\n       \u251c\u2500\u2500 send@0.2.0 (mime@1.2.11)\n-----> Caching node_modules directory for future builds\n-----> Cleaning up node-gyp and npm artifacts\n-----> No Procfile found; Adding npm start to new Procfile\n-----> Building runtime environment\n-----> Checking and configuring service extensions\n-----> Installing App Management\n\n-----> Uploading droplet (8.9M)\n\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 down\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\n0 of 1 instances running, 1 starting\nFAILED\nStart app timeout\n\nTIP: use 'cf logs myapp --recent' for more information\n\nHere is the logs from when the app tries to deploy.\n[11:10 AM] jeff@jeffs-mbp [node-red]>cf logs myapp --recent\nConnected, dumping recent logs for app myapp in org myemail@co.com / space demos as myemail@co.com...\n\n2015-04-09T11:07:12.97-0400 [API]     OUT Created app with guid de2f73ce-e19a-4daa-b4a9-6ab59588a069\n2015-04-09T11:07:16.60-0400 [API]     OUT Updated app with guid de2f73ce-e19a-4daa-b4a9-6ab59588a069 ({\"route\"=>\"e518e637-6b86-4110-8359-b8cdeda946e2\"})\n2015-04-09T11:07:48.28-0400 [DEA]     OUT Got staging request for app with id de2f73ce-e19a-4daa-b4a9-6ab59588a069\n2015-04-09T11:08:13.54-0400 [API]     OUT Updated app with guid de2f73ce-e19a-4daa-b4a9-6ab59588a069 ({\"state\"=>\"STARTED\"})\n2015-04-09T11:08:13.71-0400 [STG]     OUT -----> Downloaded app package (4.0K)\n2015-04-09T11:08:14.39-0400 [STG]     OUT -----> Node.js Buildpack Version: v1.15-20150331-2231\n2015-04-09T11:08:14.39-0400 [STG]     OUT -----> Resetting git environment\n2015-04-09T11:08:14.84-0400 [STG]     OUT        TIP: Specify a node version in package.json\n2015-04-09T11:08:14.84-0400 [STG]     OUT -----> Defaulting to latest stable node: 0.10.38\n2015-04-09T11:08:14.84-0400 [STG]     OUT -----> Installing IBM SDK for Node.js from cache\n2015-04-09T11:08:15.27-0400 [STG]     OUT -----> Checking and configuring service extensions\n2015-04-09T11:08:15.39-0400 [STG]     OUT -----> Installing dependencies\n2015-04-09T11:08:16.14-0400 [STG]     OUT        npm WARN package.json bluemix-deploy@ No description\n2015-04-09T11:08:16.14-0400 [STG]     OUT        npm WARN package.json bluemix-deploy@ No repository field.\n2015-04-09T11:08:16.14-0400 [STG]     OUT        npm WARN package.json bluemix-deploy@ No README data\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 methods@0.1.0\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 parseurl@1.0.1\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 merge-descriptors@0.0.2\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 escape-html@1.0.1\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 debug@0.8.1\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 cookie-signature@1.0.3\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 fresh@0.2.2\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 range-parser@1.0.0\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 qs@0.6.6\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 buffer-crc32@0.2.1\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 cookie@0.1.0\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 path-to-regexp@0.1.2\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 accepts@1.0.0 (negotiator@0.3.0, mime@1.2.11)\n2015-04-09T11:08:18.57-0400 [STG]     OUT        \u251c\u2500\u2500 send@0.2.0 (mime@1.2.11)\n2015-04-09T11:08:18.64-0400 [STG]     OUT -----> Caching node_modules directory for future builds\n2015-04-09T11:08:18.69-0400 [STG]     OUT -----> Cleaning up node-gyp and npm artifacts\n2015-04-09T11:08:18.70-0400 [STG]     OUT -----> No Procfile found; Adding npm start to new Procfile\n2015-04-09T11:08:18.71-0400 [STG]     OUT -----> Building runtime environment\n2015-04-09T11:08:18.71-0400 [STG]     OUT -----> Checking and configuring service extensions\n2015-04-09T11:08:18.86-0400 [STG]     OUT -----> Installing App Management\n2015-04-09T11:08:19.07-0400 [STG]     ERR \n2015-04-09T11:08:22.56-0400 [STG]     OUT -----> Uploading droplet (8.9M)\n2015-04-09T11:08:29.25-0400 [DEA]     OUT Starting app instance (index 0) with guid de2f73ce-e19a-4daa-b4a9-6ab59588a069\n2015-04-09T11:08:56.16-0400 [App/0]   OUT \n2015-04-09T11:08:56.16-0400 [App/0]   OUT > bluemix-deploy@ start /home/vcap/app\n2015-04-09T11:08:56.16-0400 [App/0]   OUT > node app.js\n2015-04-09T11:09:55.54-0400 [DEA]     ERR Instance (index 0) failed to start accepting connections\n2015-04-09T11:09:55.58-0400 [API]     OUT App instance exited with guid de2f73ce-e19a-4daa-b4a9-6ab59588a069 payload: {\"cc_partition\"=>\"default\", \"droplet\"=>\"de2f73ce-e19a-4daa-b4a9-6ab59588a069\", \"version\"=>\"0d4e67c9-1c0c-4e11-bbfb-027bb45e0d67\", \"instance\"=>\"eab34911da3947a3bb1b9e2a5564da72\", \"index\"=>0, \"reason\"=>\"CRASHED\", \"exit_status\"=>-1, \"exit_description\"=>\"failed to accept connections within health check timeout\", \"crash_timestamp\"=>1428592195}\n2015-04-09T11:09:56.14-0400 [App/0]   ERR \n2015-04-09T11:10:28.80-0400 [DEA]     OUT Starting app instance (index 0) with guid de2f73ce-e19a-4daa-b4a9-6ab59588a069\n\nAny ideas?\n\nA:\n\nI found out it was an issue with Cloud Foundry starting my app.\nIn digging into my code I was trying to bind to port 8080 locally.  That is fine, but however in Cloud Foundry you need to bind to a specified port.  To do this you need to read an environment variable called VCAP_APP_PORT.  I have pasted a code snippet below on how I fixed it.\nvar express = require(\"express\"),\n    app = express();\n\nvar port = process.env.VCAP_APP_PORT || 8080;\n\napp.get(\"/\", function (request, response) {\n    response.render(\"index\");\n});\n\napp.listen(port);\n\nA:\n\nAnother suggestion: Add this prior to the call to app.listen(...)\nprocess.on('uncaughtException', function (err) {\n    console.log(err);\n}); \n\nYour console logs will then include a helpful stack trace if the startup code fails for an unforeseen reason instead of receiving the default \"app crashed\" message.\n\n"
}