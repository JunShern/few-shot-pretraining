{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "Domain",
            "passed": false,
            "reason": "Document source unavailable."
        },
        {
            "criterion": "QuestionAnswerStrings",
            "passed": true,
            "reason": "Text contains Q:."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefix",
            "passed": false,
            "reason": "Found 0 list prefixes. (Min: 5)"
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "7906",
    "text": "Q:\n\nGrep, Sed... Awk to modify lines in a file\n\nI've searched for this but I didn't find exactly what I'm looking for.\nWhat I want to do is replace in the same file all the lines that contains a jar file with \"PATTERN\" text in the name so that I can add in those lines a new property with the sourcecode for those jar files. The sourcecode for those jars will be always in same relative folder (i.e. path1/lib/a.jar -> path1/src/java)\nAn example of this. This is my original file:\n<classpathentry path=\"/sde/ATG/ATG10.1.2/Momentum/Search/I18N/lib/MOM-Search-I18N-0.23-ECI.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/DAS/lib/axis-1.4.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/REST/lib/org.json.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/Momentum/StoreFront/lib/MOM-Search-I18N-Index-0.23-ECI.jar\" />\n\nAnd I want to get this:\n<classpathentry path=\"/sde/ATG/ATG10.1.2/Momentum/Search/I18N/lib/MOM-Search-I18N-0.23-ECI.jar\" sourcepath=\"/sde/ATG/ATG10.1.2/Momentum/Search/I18N/src/main/java\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/DAS/lib/axis-1.4.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/REST/lib/org.json.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/Momentum/StoreFront/lib/MOM-Search-I18N-Index-0.23-ECI.jar\" sourcepath=\"/sde/ATG/ATG10.1.2/Momentum/StoreFront/src/main/java\"/>\n\nI need to add a sourcepath attribute to the lines with my pattern and that sourcepath value should take the root of the path value.\nAs \ngrep -o 'path=\"[/-.0-9A-Za-z]*/lib/MOM[-.0-9A-Za-z]*.jar\"' test.txt \n\ngives me the lines that contain lines with the jars I'm looking for, I thought that this would solve my problem:\ncat test.txt | sed -r 's|path=\"[/-.0-9A-Za-z]*/lib/MOM[-.0-9A-Za-z]*.jar\"|\\1 sourcepath=\"\\2/main/src/main/java\"/>|'\n\nBut gives me this error: sed: -e expression #1, char 91: invalid reference \\2 on `s' command's RHS\nAny idea?\nThanks guys!\n\nA:\n\nYou could say:\nsed 's| \\(path=.*\\)\\(/lib\\)\\(/MOM[^ ]*\\)| \\1\\2\\3 source\\1/src/main/java\"|' inputfile\n\nFor your sample input, it'd produce:\n<classpathentry path=\"/sde/ATG/ATG10.1.2/Momentum/Search/I18N/lib/MOM-Search-I18N-0.23-ECI.jar\" sourcepath=\"/sde/ATG/ATG10.1.2/Momentum/Search/I18N/src/main/java\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/DAS/lib/axis-1.4.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/REST/lib/org.json.jar\" />\n<classpathentry path=\"/sde/ATG/ATG10.1.2/Momentum/StoreFront/lib/MOM-Search-I18N-Index-0.23-ECI.jar\" sourcepath=\"/sde/ATG/ATG10.1.2/Momentum/StoreFront/src/main/java\" />\n\n"
}