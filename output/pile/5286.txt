{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "5286",
    "text": "Q:\n\nHow to Post to a Discord Webhook with Discord.js (code 400 Bad Request)?\n\nI'm trying to access a discord Webhook using Nodejs for simple messages (for now). \nI have looked at several attempts here and at other places, but didn't quite understand them or was able to replicate them myself. Reading through the docs and searching online I found node-fetch which in my eyes should work fine in principle, while seemingly simpler.\nconst fetch = require('node-fetch');\n          var webhook = {\n            \"id\":\"my webhook id\",\n            \"token\":\"my webhook token\"\n          };\n          var URL = `https://discordapp.com/api/webhooks/${webhook.id}/${webhook.token}`;\n\n          fetch(URL, {\n            \"method\":\"POST\",\n            \"payload\": JSON.stringify({\n              \"content\":\"test\"\n            })\n          })\n            .then(res=> console.log(res));\n\nThe only output I ever get is a Response Object with status code 400. The only time I do get something else is when I remove the method, then I get code 200 which doesn't help much...\nIs my payload somehow completely wrong or did I make a mistake with the URL or fetch syntax?\n\nA:\n\nInstead of making your own POST request, you can use the WebhookClient built into Discord.js like so...\nconst id = '';\nconst token = '';\n\nconst webhook = new Discord.WebhookClient(id, token);\n\nwebhook.send('Hello world.')\n  .catch(console.error);\n\n"
}