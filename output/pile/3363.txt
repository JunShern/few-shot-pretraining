{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "3363",
    "text": "Q:\n\njava.lang.NullPointerException in jsp\n\nHi all I am a fresher in java and jsp and honestly I dont have knowledge of json. but I have some requirement that I have to pull the data from database and display on jsp page. but the criteria is that I have to use  Bootstrap Data Table why I am using this because it provide lot of flexibility like Pagination Filtering Sorting Multi-column sorting Individual column filter.\nI am getting a java.lang.NullPointerException in my jsp\ncan any body tell me why am I getting this error.\nThis is my jsp page\ndataTable.jsp\n\n<%@page import=\"org.codehaus.jettison.json.JSONObject\"%>\n<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%>\n   <%@ page import =\"java.util.*\" %>\n  <%--  <%@ page import=\"com.varun.DataBase\"%> --%>\n   <%@ page import=\"java.sql.*\" %>\n<%--    <%@ page import=\"org.json.*\"%> --%>\n   <%@ page import =\"net.sf.json.JSONArray\" %>\n\n <!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n<title>DataTable</title>\n</head>\n<body>\n<h1>Lets display the data from database using dataTabel</h1>\n\n<%\n\nString[] cols = { \"id\",\"engine\", \"browser\", \"platform\", \"version\", \"grade\" };\nString table = \"ajax\";\n\nJSONObject result = new JSONObject();\nJSONArray arr = new JSONArray();\n\nint amount = 10;\nint start = 0;\nint echo = 0;\nint col = 0;\n\nint  id=0;\nString engine = \"\";\nString browser = \"\";\nString platform = \"\";\nString version = \"\";\nString grade = \"\";\n\nString dir = \"asc\";\nString sStart = request.getParameter(\"iDisplayStart\");\nString sAmount = request.getParameter(\"iDisplayLength\");\nString sEcho = request.getParameter(\"sEcho\");\nString sCol = request.getParameter(\"iSortCol_0\");\nString sdir = request.getParameter(\"sSortDir_0\");\n\nengine = request.getParameter(\"sSearch_0\");\nbrowser = request.getParameter(\"sSearch_1\");\nplatform = request.getParameter(\"sSearch_2\");\nversion = request.getParameter(\"sSearch_3\");\ngrade = request.getParameter(\"sSearch_4\");\n\nList<String> sArray = new ArrayList<String>();\nif (!engine.equals(\"\")) {\n    String sEngine = \" engine like '%\" + engine + \"%'\";\n    sArray.add(sEngine);\n    //or combine the above two steps as:\n    //sArray.add(\" engine like '%\" + engine + \"%'\");\n    //the same as followings\n}\n\nif (!browser.equals(\"\")) {\n    String sBrowser = \" browser like '%\" + browser + \"%'\";\n    sArray.add(sBrowser);\n}\nif (!platform.equals(\"\")) {\n    String sPlatform = \" platform like '%\" + platform + \"%'\";\n    sArray.add(sPlatform);\n}\nif (!version.equals(\"\")) {\n    String sVersion = \" version like '%\" + version + \"%'\";\n    sArray.add(sVersion);\n}\nif (!grade.equals(\"\")) {\n    String sGrade = \" grade like '%\" + grade + \"%'\";\n    sArray.add(sGrade);\n}\n\nString individualSearch = \"\";\nif(sArray.size()==1){\n    individualSearch = sArray.get(0);\n}else if(sArray.size()>1){\n    for(int i=0;i<sArray.size()-1;i++){\n        individualSearch += sArray.get(i)+ \" and \";\n    }\n    individualSearch += sArray.get(sArray.size()-1);\n}\n\nif (sStart != null) {\n    start = Integer.parseInt(sStart);\n    if (start < 0)\n        start = 0;\n}\nif (sAmount != null) {\n    amount = Integer.parseInt(sAmount);\n    if (amount < 10 || amount > 100)\n        amount = 10;\n}\nif (sEcho != null) {\n    echo = Integer.parseInt(sEcho);\n}\nif (sCol != null) {\n    col = Integer.parseInt(sCol);\n    if (col < 0 || col > 5)\n        col = 0;\n}\nif (sdir != null) {\n    if (!sdir.equals(\"asc\"))\n        dir = \"desc\";\n}\n\nString colName = cols[col];\nint total = 0;\nConnection conn = DriverManager.getConnection(\"jdbc:oracle:thin:@localhost:1521:orcl\",\"system\",\"admin\");\ntry {\n    String sql = \"SELECT count(*) FROM \"+table;\n    PreparedStatement ps = conn.prepareStatement(sql);\n    ResultSet rs = ps.executeQuery();\n    if(rs.next()){\n        total = rs.getInt(\"count(*)\");\n    }\n}catch(Exception e){\n\n}\nint totalAfterFilter = total;\n//result.put(\"sEcho\",echo);\n\ntry {\n    String searchSQL = \"\";\n    String sql = \"SELECT * FROM \"+table;\n    String searchTerm = request.getParameter(\"sSearch\");\n    String globeSearch =  \" where (engine like '%\"+searchTerm+\"%'\"\n                            + \" or browser like '%\"+searchTerm+\"%'\"\n                            + \" or platform like '%\"+searchTerm+\"%'\"\n                            + \" or version like '%\"+searchTerm+\"%'\"\n                            + \" or grade like '%\"+searchTerm+\"%')\";\n    if(searchTerm!=\"\"&&individualSearch!=\"\"){\n        searchSQL = globeSearch + \" and \" + individualSearch;\n    }\n    else if(individualSearch!=\"\"){\n        searchSQL = \" where \" + individualSearch;\n    }else if(searchTerm!=\"\"){\n        searchSQL=globeSearch;\n    }\n    sql += searchSQL;\n    sql += \" order by \" + colName + \" \" + dir;\n    sql += \" limit \" + start + \", \" + amount;\n\n    PreparedStatement ps = conn.prepareStatement(sql);\n    ResultSet rs = ps.executeQuery();\n    while (rs.next()) {\n       // JSONArray ja = new JSONArray();\n        net.sf.json.JSONArray ja = new net.sf.json.JSONArray(); \n\n        ja.add(rs.getInt(\"id\"));\n        ja.add(rs.getString(\"engine\"));\n        ja.add(rs.getString(\"browser\"));\n        ja.add(rs.getString(\"platform\"));\n        ja.add(rs.getString(\"version\"));\n        ja.add(rs.getString(\"grade\"));\n        arr.add(ja); \n    } \n    String sql2 = \"SELECT count(*) FROM \"+table;\n    if (searchTerm != \"\") {\n        sql2 += searchSQL;\n        PreparedStatement ps2 = conn.prepareStatement(sql2);\n        ResultSet rs2 = ps2.executeQuery();\n        if (rs2.next()) {\n            totalAfterFilter = rs2.getInt(\"count(*)\");\n        }\n    }\n    result.put(\"iTotalRecords\", total);\n    result.put(\"iTotalDisplayRecords\", totalAfterFilter);\n    result.put(\"aaData\", arr);\n    response.setContentType(\"application/json\");\n    response.setHeader(\"Cache-Control\", \"no-store\");\n    out.print(result);\n    conn.close();\n} catch (Exception e) {\n\n}\n\n%>\n\n</body>\n</html>\n\nStack Trace\n11:26:50,224 ERROR [[jsp]] Servlet.service() for servlet jsp threw exception\njava.lang.NullPointerException\n    at org.apache.jsp.dataTable_jsp._jspService(dataTable_jsp.java:114)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:322)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:249)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:235)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:190)\n    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:92)\n    at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.process(SecurityContextEstablishmentValve.java:126)\n    at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:70)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:330)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:829)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:598)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n    at java.lang.Thread.run(Unknown Source)\n\nA:\n\nIf the answer of Ajil Mohan prevent the error to appear, it means that you have no value in your ParametersMap. \nengine = request.getParameter(\"sSearch_0\");\nbrowser = request.getParameter(\"sSearch_1\");\nplatform = request.getParameter(\"sSearch_2\");\nversion = request.getParameter(\"sSearch_3\");\ngrade = request.getParameter(\"sSearch_4\");\n\nThese lines just get the data in the Parameter map of your request. If the given is not in the map it returns null (https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29). \nThis map is created when you send the POST request on the previous page with the data contained in your form. Your input field has to be set with the name you give to the getParameter method.\nIf you don't have previous page with a form then you may want to send data from server to JSP. If you use Servlet then you should use the request AttributeMap. \npublic class BasicTotoServlet extends HttpServlet {\n /**\n  * Manage GET HTTP Request\n  */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\n        String data = getData();\n        request.setAttibute(\"sSearch_0\", data)\n    }\n}\n\nThen in your JSP : \nengine = request.getAttribute(\"sSearch_0\");\n\nI hope I was clear enough. \nAsk for precision if needed\nEDIT : \nHere is what I understand. \nYou arrive on your JSP and you get several Parameter from the previous page's form. This form may not give to you all the information, that is why you get a NPE on this\nengine = request.getParameter(\"sSearch_0\");\nengine.equals(\"\")\n\nTo solve this as told you Ajil Mohan, just turn the equals the other way round, so that if engine is NULL you have no problem\n\"\".equals(engine);\n\nAs \"\" is never null you'll never get NPE.\nNow you don't have any data in you table. Why? If I'm correct you create a SQL Query by concatenating several data. searchSQL = globeSearch + \" and \" + individualSearch; \nindividualSearch is the result of concatenating your Parameters but what if they're null?\nif (!\"\".equals(browser)) {\n    String sBrowser = \" browser like '%\" + browser + \"%'\";\n    sArray.add(sBrowser);\n}\n\nIn this code, if browser is null (as we saw earlier it can be), you will add the String \" browser like '%null%'\" to you query with the and key word. I'm not sure there will be any browser with \"null\" in its name.\nYou better put this test :\nif (!\"\".equals(browser) && browser != null) {\n    String sBrowser = \" browser like '%\" + browser + \"%'\";\n    sArray.add(sBrowser);\n}\n\n"
}