{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "4111",
    "text": "Q:\n\n\u0416\u0438\u0432\u043e\u0439 \u043f\u043e\u0438\u0441\u043a \u0438\u043c\u0435\u043d\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430\n\n\u0415\u0441\u0442\u044c \u0434\u0432\u0435 \u0431\u0430\u0437\u044b. \n\n\u041a\u043b\u0438\u0435\u043d\u0442\u044b\n\u0417\u0430\u043a\u0430\u0437\u044b\n\u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430, \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u0435 \u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 (client_name), \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043f\u0435\u0440\u0432\u043e\u0439 \u0431\u0430\u0437\u044b (\u0442\u0430\u043a\u0436\u0435 \u0436\u0435 client_name). \u041f\u0440\u0438 \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043f\u0435\u0440\u0432\u044b\u0445 \u0431\u0443\u043a\u0432 \u0438\u043c\u0435\u043d\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430, \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a. \u0412\u044b\u0431\u0438\u0440\u0430\u044e \u043d\u0443\u0436\u043d\u043e\u0435 \u0438\u043c\u044f \u0438 \u043e\u043d\u043e \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u043c\u043e\u0439 input (referal), \u043d\u043e \u043f\u043e\u0447\u0435\u043c\u0443-\u0442\u043e \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0447\u0442\u043e-\u0442\u043e \u0438\u0434\u0435\u0442 \u043d\u0435 \u0442\u0430\u043a \u0438 \u043e\u043d\u043e \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u0443\u0441\u0442\u044b\u043c \u0432 MySQL, \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u043e\u043b\u044f \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f. \u0413\u0434\u0435 \u043c\u043e\u044f \u043e\u0448\u0438\u0431\u043a\u0430?\n\nInput\n\n<label>\u0418\u043c\u044f \u0438 \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u041a\u043b\u0438\u0435\u043d\u0442\u0430</label>\r\n<input type=\"text\" name=\"referal\" class=\"who form-control\" autocomplete=\"off\">\r\n<ul class=\"search_result\"></ul>\n\nsearch.js\n\n$(function(){\r\n    \r\n    //\u0416\u0438\u0432\u043e\u0439 \u043f\u043e\u0438\u0441\u043a\r\n    $('.who').bind(\"change keyup input click\", function() {\r\n        if(this.value.length >= 2){\r\n            $.ajax({\r\n                type: 'post',\r\n                url: \"search.php\", //\u041f\u0443\u0442\u044c \u043a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0443\r\n                data: {'referal':this.value},\r\n                response: 'text',\r\n                success: function(data){\r\n                    $(\".search_result\").html(data).fadeIn(); //\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435\r\n                }\r\n            })\r\n        }\r\n    })\r\n    \r\n    $(\".search_result\").hover(function(){\r\n        $(\".who\").blur(); //\u0423\u0431\u0438\u0440\u0430\u0435\u043c \u0444\u043e\u043a\u0443\u0441 \u0441 input\r\n    })\r\n    \r\n    //\u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u043f\u043e\u0438\u0441\u043a\u0430, \u043f\u0440\u044f\u0447\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u0438 \u0437\u0430\u043d\u043e\u0441\u0438\u043c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 input\r\n    $(\".search_result\").on(\"click\", \"li\", function(){\r\n        s_user = $(this).text();\r\n        $(\".who\").val(s_user).attr('disabled', 'disabled'); //\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u043c input, \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e\r\n        $(\".search_result\").fadeOut();\r\n    })\r\n\r\n})\n\nsearch.php\n\n$mysqli = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\r\n$mysqli -> query(\"SET NAMES 'utf8'\") or die (\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0431\u0430\u0437\u043e\u0439!\");\r\n\r\nif(!empty($_POST[\"referal\"])){\r\n$db_table = \"clients\"; \r\n    $referal = trim(strip_tags(stripcslashes(htmlspecialchars($_POST[\"referal\"]))));\r\n\r\n    $db_referal = $mysqli -> query(\"SELECT * from \".$db_table.\" search WHERE client_name LIKE '%$referal%'\")\r\n    or die('\u041e\u0448\u0438\u0431\u043a\u0430 \u2116'.__LINE__.'<br>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u0441\u0430\u0439\u0442\u0430 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043e\u043e\u0431\u0449\u0438\u0432 \u043d\u043e\u043c\u0435\u0440 \u043e\u0448\u0438\u0431\u043a\u0438.');\r\n\r\n    while ($row = $db_referal -> fetch_array()) {\r\n        echo \"\\n<li>\".$row[\"client_name\"].\"</li>\"; \r\n    }\r\n}\n\n\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432, \u0442\u043e \u0435\u0441\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n\n$client_name = $_POST[\"referal\"];\r\n$db_table = \"orders\"; // \u0418\u043c\u044f \u0422\u0430\u0431\u043b\u0438\u0446\u044b \u0411\u0414\r\n     \r\n    // \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445\r\n    $db = mysql_connect($host,$user,$password) OR DIE(\"\u041d\u0435 \u043c\u043e\u0433\u0443 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \");     \r\n    // \u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0431\u0430\u0437\u044b\r\n    mysql_select_db(\"crm\",$db);\r\n     \r\n    // \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\r\n    mysql_query(\"SET NAMES 'utf8'\",$db);\r\n     \r\n    $result = mysql_query (\"INSERT INTO \".$db_table.\" (client_name,status,date) VALUES ('$client_name','$status','$date')\");\n\nA:\n\n\u0417\u0430\u043c\u0435\u043d\u0438\u043b\n$(\".who\").val(s_user).attr('disabled', 'disabled');\n\n\u043d\u0430\n$(\".who\").val(s_user)\n\n"
}