{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "359",
    "text": "Q:\n\nHow to use eval() for php code stored in DB?\n\nI have whole HTML code present in the db and it includes following HTML code-\n<p class=\"card mb-4 shadow-sm\"><img src=\"<?php echo SITE_URL; ?>/assets/images/blog/php.png\" alt=\"php\" title=\"php\"></p>\n\nThis HTML is stored in db and I want it to print value of SITE_URL when it gets fetched because SITE_URL is dynamic (const here in this case).\nI tried using PHP's own eval() function like the one mentioned in this article. But it's not working.\nwhat would be the better way to do this OR\nis there any other way to figure out this ?\nHere, what I tried.\n<p class=\"card mb-4 shadow-sm\"><img src=\"<?php \n$str = SITE_URL;\neval('\\$str = \\'$str\\';');\necho $str; ?>/assets/images/blog/php.png\" alt=\"php\" title=\"php\"></p> \n\nA:\n\nPresuming you know how dodgy using eval is..\nAs long as SITE_URL is defined, it would be fine. Then you would do something like:\n<?php\ndefine('SITE_URL', 'http://example.com');\n\n$str = '<p class=\"card mb-4 shadow-sm\"><img src=\"<?php echo SITE_URL; ?>/assets/images/blog/php.png\" alt=\"php\" title=\"php\"></p>';\n\necho eval('?>'.$str);\n\nhttps://3v4l.org/EEB54\n\nAn alternative to using eval, is to use a template and replace the placeholders with the values you define.\n<?php\ndefine('SITE_URL', 'http://example.com');\n\n$vars = [\n    'SITE_URL' => SITE_URL    \n];\n\n$template = '<p class=\"card mb-4 shadow-sm\"><img src=\"{{ SITE_URL }}/assets/images/blog/php.png\" alt=\"php\" title=\"php\"></p>';\n\n// match any single word with _ or -, with spaces either side or not\n// e.g: {{key}} or {{ key }} or {{key-foo}} or {{ key-foo }}\n//  not {{ a b c }}\n$str = preg_replace_callback(\"/{{[ ]{0,}([\\w\\_-]{1,})[ ]{0,}}}/\", function ($match) use ($vars) {\n    return array_key_exists($match[1], $vars) ? $vars[$match[1]] : '';\n}, $template);\n\necho $str;\n\nhttps://3v4l.org/cUK5B\nOr look into using a template engine if you need more features.\n\n"
}