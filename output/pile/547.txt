{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "Domain",
            "passed": false,
            "reason": "Document source unavailable."
        },
        {
            "criterion": "QuestionAnswerStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefix",
            "passed": false,
            "reason": "Found 0 list prefixes. (Min: 5)"
        },
        {
            "criterion": "ListPrefixV2",
            "passed": true,
            "reason": "Text contains ['-', '-', '-', '1', '2', '1', '-', '-', '-', '1', '2', '3', '1', '2', '1', '2', '1', '2', '3', '1', '2', '3', '-']."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        }
    ],
    "doc_id": "547",
    "text": "---\nabstract: |\n    A [*rack*]{} is a set equipped with a bijective, self-right-distributive binary operation, and a [*quandle*]{} is a rack which satisfies an idempotency condition.\n\n    In this paper, we introduce a new definition of modules over a rack or quandle, and show that this definition includes the one studied by Etingof and Gra\u00f1a [@etingof/grana:orc] and the more general one given by Andruskiewitsch and Gra\u00f1a [@andr/grana:pointed-hopf]. We further show that this definition coincides with the appropriate specialisation of the definition developed by Beck [@beck:thesis], and hence that these objects form a suitable category of coefficient objects in which to develop homology and cohomology theories for racks and quandles.\n\n    We then develop an Abelian extension theory for racks and quandles which contains the variants developed by Carter, Elhamdadi, Kamada and Saito [@carter/elhamdadi/saito:twisted; @carter/kamada/saito:diag] as special cases.\naddress: |\n    Mathematics Institute\\\n    University of Warwick\\\n    Coventry\\\n    CV4 7AL\\\n    United Kingdom\nauthor:\n- Nicholas Jackson\ntitle: Extensions of racks and quandles\n---\n\nIntroduction\n============\n\nA [*rack*]{} (or [*wrack*]{}) is a set $X$ equipped with a self-right-distributive binary operation (often written as exponentiation) satisfying the following two axioms:\n\n1.  For every $a,b \\in X$ there is a unique $c \\in X$ such that $c^b = a$.\n\n2.  For every $a,b,c \\in X$, the [*rack identity*]{} holds: $$a^{bc} = a^{cb^c}$$\n\nIn the first of these axioms, the unique element $c$ is often denoted $a^{\\overline{b}}$, although $\\overline{b}$ should not itself be regarded as an element of the rack. Association of exponents should be understood to follow the usual conventions for exponential notation. In particular, the expressions $a^{bc}$ and $a^{cb^c}$ should be interpreted as $(a^b)^c$ and $(a^c)^{(b^c)}$ respectively.\n\nA rack which, in addition, satisfies the following idempotency criterion is said to be a [*quandle*]{}.\n\n1.  For every $a \\in X$, $a^a = a$.\n\nThere is an obvious notion of a [*homomorphism*]{} of racks: a function $f{\\colon}X {\\rightarrow}Y$ such that $f(a^b) = f(a)^{f(b)}$ for all $a,b \\in\nX$. We may thus form the categories ${\\mathsf{Rack}}$ and ${\\mathsf{Quandle}}$.\n\nFor any element $x \\in X$ the map $\\pi_x{\\colon}a \\mapsto a^x$ is a bijection. The subgroup of ${\\operatorname{Sym}}X$ generated by $\\{ \\pi_x : x \\in X \\}$ is the [*operator group*]{} of $X$, denoted ${\\operatorname{Op}}X$. This assignment is not functorial since there is not generally a well-defined group homomorphism ${\\operatorname{Op}}f{\\colon}{\\operatorname{Op}}X {\\rightarrow}{\\operatorname{Op}}Y$ corresponding to an arbitrary rack homomorphism $f{\\colon}X {\\rightarrow}Y$. The group ${\\operatorname{Op}}X$ acts on the rack $X$, and divides it into [*orbits*]{}. Two elements $x,y \\in X$ are then said to be in the same orbit (denoted $x \\sim y$ or $x \\in [y]$) if there is a (not necessarily unique) word $w \\in {\\operatorname{Op}}X$ such that $y = x^w$. A rack with a single orbit is said to be [*transitive*]{}. The set of orbits of $X$ is denoted ${\\operatorname{Orb}}X$.\n\nGiven any group $G$, we may form the [*conjugation rack*]{} ${\\operatorname{Conj}}G$ of $G$ by taking the underlying set of $G$ and defining the rack operation to be conjugation within the group, so $g^h := h^{-1}gh$ for all $g,h\n\\in G$. This process determines a functor ${\\operatorname{Conj}}{\\colon}{\\mathsf{Group}}\n{\\rightarrow}{\\mathsf{Rack}}$ which has a left adjoint, the [*associated group*]{} functor ${\\operatorname{As}}{\\colon}{\\mathsf{Rack}} {\\rightarrow}{\\mathsf{Group}}$. For a given rack $X$, the associated group ${\\operatorname{As}}X$ is the free group on the elements of $X$ modulo the relations $$a^b = b^{-1}ab$$ for all $a,b \\in X$.\n\nRacks were first studied by Conway and Wraith [@conway/wraith:wracks] and later (under the name \u2018automorphic sets\u2019) by Brieskorn [@brieskorn:automorphic], while quandles were introduced by Joyce [@joyce:knot-quandle]. A detailed exposition may be found in the paper by Fenn and Rourke [@fenn/rourke:racks-links].\n\nA [*trunk*]{} ${\\mathsf{T}}$ is an object analogous to a category, and consists of a class of [*objects*]{} and, for each ordered pair $(A,B)$ of objects, a set ${\\operatorname{Hom}}_{{\\mathsf{T}}}(A,B)$ of [*morphisms*]{}. In addition, ${\\mathsf{T}}$ has a number of [*preferred squares*]{} $$\\bfig\\square[A`B`C`D;f`g`h`k]\\efig$$ of morphisms, a concept analogous to that of composition in a category. Morphism composition need not be associative, although it is in all the cases discussed in this paper, and particularly when the trunk in question is also a category.\n\nGiven two arbitrary trunks ${\\mathsf{S}}$ and ${\\mathsf{T}}$, a [*trunk map*]{} or [*functor*]{} $F{\\colon}{\\mathsf{S}}{\\rightarrow}{\\mathsf{T}}$ is a map which assigns to every object $A$ of ${\\mathsf{S}}$ an object $F(A)$ of ${\\mathsf{T}}$, and to every morphism $f{\\colon}A {\\rightarrow}B$ of ${\\mathsf{S}}$ a morphism $F(f){\\colon}F(A) {\\rightarrow}F(B)$ of ${\\mathsf{T}}$ such that preferred squares are preserved: $$\\bfig\\square/>`>`>`>/<500,500>[F(A)`F(B)`F(C)`F(D);f_*`g_*`h_*`k_*]\\efig$$ For any category ${\\mathsf{C}}$ there is a well-defined trunk ${\\operatorname{Trunk}({\\mathsf{C}})}$ which has the same objects and morphisms as ${\\mathsf{C}}$, and whose preferred squares are the commutative diagrams in ${\\mathsf{C}}$. In particular, we will consider the case ${\\operatorname{Trunk}({\\mathsf{Ab}})}$, which we will denote ${\\mathsf{Ab}}$ where there is no ambiguity. Trunks were first introduced and studied by Fenn, Rourke and Sanderson [@fenn/rourke/sanderson:trunks].\n\nIn this paper, we study extensions of racks and quandles in more generality than before, in the process describing a new, generalised notion of a module over a rack or quandle, which is shown to coincide with the general definition of a module devised by Beck [@beck:thesis]. Abelian groups ${\\operatorname{Ext}}(X,{\\mathcal{A}})$ and ${\\operatorname{Ext}}_Q(X,{\\mathcal{A}})$ are defined and shown to classify (respectively) Abelian rack and quandle extensions and to be generalisations of all known existing ${\\operatorname{Ext}}$ groups for racks and quandles.\n\nThis paper contains part of my doctoral thesis [@jackson:thesis]. I am grateful to my supervisor Colin Rourke, and to Alan Robinson, Ronald Brown, and Simona Paoli for many interesting discussions and much helpful advice over the past few years. I also thank the referees for their kind comments and helpful suggestions.\n\nModules\n=======\n\nGiven a rack $X$ we define a trunk ${\\mathsf{T}}(X)$ as follows: let ${\\mathsf{T}}(X)$ have one object for each element $x \\in X$, and for each ordered pair $(x,y)$ of elements of $X$, a morphism $\\alpha_{x,y}{\\colon}x {\\rightarrow}x^y$ and a morphism $\\beta_{y,x}{\\colon}y {\\rightarrow}y^x$ such that the squares $$\\bfig\\square/>`>`>`>/<1000,500>[x`x^y`x^z`x^{yz} = x^{zy^z};\n  \\alpha_{x,y}`\\alpha_{x,z}`\\alpha_{x^y,z}`\\alpha_{x^z,y^z}]\\efig\n  \\qquad\n  \\bfig\\square/>`>`>`>/<1000,500>[y`x^y`y^z`x^{yz} = x^{zy^z};\n  \\beta_{y,x}`\\alpha_{y,z}`\\alpha_{x^y,z}`\\beta_{y^z,x^z}]\\efig$$ are preferred for all $x,y,z \\in X$.\n\nThus a trunk map $A{\\colon}{\\mathsf{T}}(X){\\rightarrow}{\\mathsf{Ab}}$, as defined in the previous section, determines Abelian groups $A_x$, and Abelian group homomorphisms $\\phi_{x,y}{\\colon}A_x {\\rightarrow}A_{x^y}$ and $\\psi_{y,x}{\\colon}A_y {\\rightarrow}A_{x^y}$, such that $$\\begin{aligned}\n\\phi_{x^y,z}\\phi_{x,y} & = & \\phi_{x^z,y^z}\\phi_{x,z} \\\\\n\\mbox{and}\\qquad\n\\phi_{x^y,z}\\psi_{y,x} & = & \\psi_{y^z,x^z}\\phi_{y,z}\\end{aligned}$$ for all $x,y,z \\in X$. It will occasionally be convenient to denote such a trunk map by a triple $(A,\\phi,\\psi)$.\n\nRack modules\n------------\n\nLet $X$ be an arbitrary rack. Then a [*rack module*]{} over $X$ (or an [*$X$\u2013module*]{}) is a trunk map ${\\mathcal{A}} = (A,\\phi,\\psi){\\colon}{\\mathsf{T}}(X) {\\rightarrow}{\\mathsf{Ab}}$ such that each $\\phi_{x,y}{\\colon}A_x {\\cong}A_{x^y}$ is an isomorphism, and $$\\label{eqn:rmod}\n\\psi_{z,x^y}(a) = \\phi_{x^z,y^z}\\psi_{z,x}(a) + \\psi_{y^z,x^z}\\psi_{z,y}(a)$$ for all $a \\in A_z$ and $x,y,z \\in X$.\n\nIf $x,y$ lie in the same orbit of $X$ then this implies that $A_x {\\cong}A_y$ (although the isomorphism is not necessarily unique). For racks with more than one orbit it follows that if $x \\not\\sim y$ then $A_x$ need not be isomorphic to $A_y$. Rack modules where the constituent groups are nevertheless all isomorphic are said to be [*homogeneous*]{}, and those where this is not the case are said to be [*heterogeneous*]{}. It is clear that modules over transitive racks must be homogeneous.\n\nAn $X$\u2013module ${\\mathcal{A}}$ of the form $(A,{\\operatorname{Id}},0)$ (so that $\\phi_{x,y} =\n{\\operatorname{Id}}{\\colon}A_x {\\rightarrow}A_{x^y}$ and $\\psi_{y,x}$ is the zero map $A_y {\\rightarrow}A_{x^y}$) is said to be [*trivial*]{}.\n\n\\[exm:abgroup\\] [Any Abelian group $A$ may be considered as a homogeneous trivial $X$\u2013module ${\\mathcal{A}}$, for any rack $X$, by setting $A_x = A, \\phi_{x,y} = {\\operatorname{Id}}_A$, and $\\psi_{y,x} = 0_A$ for all $x,y \\in\nX$.]{}\n\n\\[exm:asx\\] [Let $X$ be a rack, and let $A$ be an Abelian group equipped with an action of ${\\operatorname{As}}X$. Then $A$ may be considered as a homogeneous $X$\u2013module ${\\mathcal{A}} = (A,\\phi,\\psi)$ by setting $A_x = A$, and defining $\\phi_{x,y}(a) = a \\cdot x$ and $\\psi_{y,x}(a) = 0$ for all $a \\in A$ and $x,y \\in X$.]{}\n\nIn particular, Etingof and Gra\u00f1a [@etingof/grana:orc] study a cohomology theory for racks, with ${\\operatorname{As}}X$\u2013modules as coefficient objects.\n\n\\[exm:andr/grana\\]\n\nIn [@andr/grana:pointed-hopf], Andruskiewitsch and Gra\u00f1a define an [*$X$\u2013module*]{} to be an Abelian group $A$ equipped with a family $\\eta\n= \\{\\eta_{x,y} : x,y \\in X\\}$ of automorphisms of $A$ and another family $\\tau = \\{\\tau_{x,y} : x,y \\in X\\}$ of endomorphisms of $A$ such that (after slight notational changes): $$\\begin{aligned}\n\\eta_{x^y,z}\\eta_{x,y} & = & \\eta_{x^z,y^z}\\eta_{x,z} \\\\\n\\eta_{x^y,z}\\tau_{y,x} & = & \\tau_{y^z,x^z}\\eta_{y,z} \\\\\n\\tau_{z,x^y} & = & \\eta_{x^z,y^z}\\tau_{z,x} + \\tau_{y^z,x^z}\\tau_{z,y}\\end{aligned}$$ This may readily be seen to be a homogeneous $X$\u2013module in the context of the current discussion.\n\nAs a concrete example, let $X$ be $C_3=\\{0,1,2\\}$, the cyclic rack with three elements. This has rack structure given by $x^y = x+1 \\pmod{3}$ for all $x,y \\in X$. Let $A=\\mathbb{Z}_5$ and define: $$\\begin{aligned}\n&\\eta_{x,y}{\\colon}A {\\rightarrow}A;\\quad n \\mapsto 2n\\pmod{5}\\\\\n&\\tau_{y,x}{\\colon}A {\\rightarrow}A;\\quad n \\mapsto 4n\\pmod{5}\\end{aligned}$$ Then this satisfies Andruskiewitsch and Gra\u00f1a\u2019s definition of a $C_3$\u2013module, and (by setting $A_0=A_1=A_2=A=\\mathbb{Z}_5$) is also a homogeneous $C_3$\u2013module in the context of the current discussion.\n\n\\[exm:alexander\\] [Let $h = \\{ h_i : i \\in {\\operatorname{Orb}}X \\}$ be a family of Laurent polynomials in one variable $t$, one for each orbit of the rack $X$, and let $n =\n\\{ n_i : i \\in {\\operatorname{Orb}}X \\}$ be a set of positive integers, also one for each orbit. Then we may construct a (possibly heterogeneous) $X$\u2013module ${\\mathcal{A}} = (A,\\phi,\\psi)$ by setting $A_x =\n\\mathbb{Z}_{n_{[x]}}[t,t^{-1}]/h_{[x]}(t)$, $\\phi_{x,y}{\\colon}a \\mapsto ta$, and $\\psi_{y,x}{\\colon}b \\mapsto (1-t)b$ for all $x,y \\in X$, $a \\in A_x$ and $b \\in A_y$. The case where $A_x = \\mathbb{Z}[t,t^{-1}]/h_{[x]}(t)$ for all $x$ in some orbit(s) of $X$ is also an $X$\u2013module.]{}\n\n\\[exm:dihedral\\] [Let $n = \\{ n_i : i \\in {\\operatorname{Orb}}X \\}$ be a set of positive integers, one for each orbit of $X$. Then let ${\\mathcal{D}} = (D,\\phi,\\psi)$ denote the (possibly heterogeneous) $X$\u2013module where $D_x = \\mathbb{Z}_{n_{[x]}}$, $\\phi_{x,y}(a) = -a$, and $\\psi_{y,x}(b) = 2b$ for all $x,y \\in X$, $a \\in\nA_x$ and $b \\in A_y$. This module is isomorphic to the Alexander module where $h_i(t) = (1+t)$ for all $i \\in {\\operatorname{Orb}}X$. The case where $A_x =\n\\mathbb{Z}$ for all $x$ in some orbit(s) of $X$, is also an $X$\u2013module. The [*$n$th homogeneous dihedral $X$\u2013module*]{} (where all the $n_i$ are equal to $n$) is denoted ${\\mathcal{D}}_n$. The case where $D_x = \\mathbb{Z}$ for all $x \\in X$ is the [*infinite homogeneous dihedral $X$\u2013module*]{} ${\\mathcal{D}}_\\infty$.]{}\n\nGiven two $X$\u2013modules ${\\mathcal{A}} = (A,\\phi,\\psi)$ and ${\\mathcal{B}} =\n(B,\\chi,\\omega)$, a [*homomorphism*]{} of $X$\u2013modules, or an [*$X$\u2013map*]{}, is a natural transformation $f{\\colon}{\\mathcal{A}} {\\rightarrow}{\\mathcal{B}}$ of trunk maps, that is, a collection $f = \\{ f_x{\\colon}A_x\n{\\rightarrow}B_x : x \\in X \\}$ of Abelian group homomorphisms such that $$\\begin{aligned}\n\\phi_{x,y}f_x & = & f_{x^y}\\phi_{x,y} \\\\\n\\mbox{and}\\qquad\\psi_{y,x}f_y & = & f_{x^y}\\psi_{y,x}\\end{aligned}$$ for all $x,y \\in X$.\n\nWe may thus form the category ${\\mathsf{RMod}}_X$ whose objects are $X$\u2013modules, and whose morphisms are $X$\u2013maps.\n\nIn his doctoral thesis [@beck:thesis], Beck gives a general definition of a \u2018module\u2019 in an arbitrary category. Given a category ${\\mathsf{C}}$, and an object $X$ of ${\\mathsf{C}}$, a [*Beck module*]{} over $X$ is an Abelian group object in the slice category ${\\mathsf{C}}/X$. For any group $G$, the category ${\\mathsf{Ab}}({\\mathsf{Group}}/G)$, for example, is equivalent to the category of $G$\u2013modules. Similar results hold for Lie algebras, associative algebras and commutative rings. The primary aim of this section is to demonstrate a categorical equivalence between the rack modules just defined, and the Beck modules in the category ${\\mathsf{Rack}}$.\n\nFor an arbitrary rack $X$ and an $X$\u2013module ${\\mathcal{A}} = (A,\\phi,\\psi)$, we define the [*semidirect product*]{} of ${\\mathcal{A}}$ and $X$ to be the set $${\\mathcal{A}} \\rtimes X = \\{ (a,x) : x \\in X, a \\in A_x \\}$$ with rack operation given by $$(a,x)^{(b,y)} := \\left(\\phi_{x,y}(a) + \\psi_{y,x}(b), x^y\\right).$$\n\n\\[thm:semidirect-rack\\] \\[prp:semidirect-rack\\] For any rack $X$ and $X$\u2013module ${\\mathcal{A}} = (A,\\phi,\\psi)$, the semidirect product ${\\mathcal{A}} \\rtimes X$ is a rack.\n\nFor any three elements $(a,x), (b,y), (c,z) \\in {\\mathcal{A}} \\rtimes X$, $$\\begin{aligned}\n(a,x)^{(b,y)(c,z)}\\! &= (\\phi_{x,y}(a) + \\psi_{y,x}(b),x^y)^{(c,z)} \\\\\n&= (\\phi_{x^y,z}\\phi_{x,y}(a) + \\phi_{x^y,z}\\psi_{y,x}(b)\n  + \\psi_{z,x^y}(c),x^{yz}) \\\\\n&= (\\phi_{x^z,y^z}\\phi_{x,z}(a) + \\psi_{y^z,x^z}\\phi_{y,z}(b)\n  + \\phi_{x^z,y^z}\\psi_{z,x}(c) + \\psi_{y^z,x^z}\\psi_{z,y}(c), x^{zy^z}) \\\\\n&= (\\phi_{x,z}(a) + \\psi_{z,x}(c),x^z)^{(\\phi_{y,z}(b) + \\psi_{z,y}(c),y^z)} \\\\\n&= (a,x)^{(c,z)(b,y)^{(c,z)}}.\\end{aligned}$$ Furthermore, for any two elements $(a,x), (b,y) \\in {\\mathcal{A}} \\rtimes X$, there is a unique element $$(c,z) = (a,x)^{\\overline{(b,y)}} = (\\phi_{z,y}^{-1}(a -\n\\psi_{y,z}(b)),x^{\\overline{y}}) \\in {\\mathcal{A}} \\rtimes X$$ such that $(c,z)^{(b,y)} = (a,x)$.\n\nHence ${\\mathcal{A}} \\rtimes X$ satisfies the rack axioms.\n\n\\[thm:rmod-beck\\] For any rack $X$, the category ${\\mathsf{RMod}}_X$ of $X$\u2013modules is equivalent to the category ${\\mathsf{Ab}}({\\mathsf{Rack}}/X)$ of Abelian group objects over $X$.\n\nGiven an $X$-module ${\\mathcal{A}} = (A,\\phi,\\psi)$, let $T{\\mathcal{A}}$ be the object $p{\\colon}{\\mathcal{A}} \\rtimes X {\\twoheadrightarrow}X$ in the slice category ${\\mathsf{Rack}}/X$, where $p$ is defined as projection onto the second coordinate. Given an $X$\u2013map $f{\\colon}{\\mathcal{A}}{\\rightarrow}{\\mathcal{B}}$, we obtain a slice morphism $Tf:{\\mathcal{A}} \\rtimes X {\\rightarrow}{\\mathcal{B}} \\rtimes X$ defined by $T(f)(a,x) =\n(f_x(a),x)$ for all $a \\in A_x$ and $x \\in X$. This is functorial since, for any $X$\u2013module homomorphism $g{\\colon}{\\mathcal{B}}{\\rightarrow}{\\mathcal{C}}$, $$\\begin{aligned}\nT(fg)(a,x) &= ((fg)_x(a),x) \\\\\n&= (f_xg_x(a),x) \\\\\n&= T(f)(g_x(a),x) \\\\\n&= T(f)T(g)(a,x)\\end{aligned}$$ for all $a \\in A_x$ and $x \\in X$. We thus have a functor $T{\\colon}{\\mathsf{RMod}}_X{\\rightarrow}{\\mathsf{Rack}}/X$. Our aim is to show firstly that the image of $T$ is the subcategory ${\\mathsf{Ab}}({\\mathsf{Rack}}/X)$, and secondly that $T$ has a well-defined inverse.\n\nTo show the first, that $T{\\mathcal{A}}$ has a canonical structure as an Abelian group object, we must construct an appropriate section, and suitable multiplication and inverse morphisms.\n\nLet: $$\\begin{aligned}\n& r{\\colon}{\\mathcal{A}} \\rtimes X {\\rightarrow}{\\mathcal{A}} \\rtimes X  ; &&\n     (a,x) \\mapsto (-a,x) \\\\\n& m{\\colon}({\\mathcal{A}} \\rtimes X)\\times_X({\\mathcal{A}} \\rtimes X) {\\rightarrow}{\\mathcal{A}} \\rtimes X ; &&\n     ((a_1,x),(a_2,x)) \\mapsto (a_1+a_2,x) \\\\\n& s{\\colon}X {\\rightarrow}{\\mathcal{A}} \\rtimes X ; &&\n     x \\mapsto (0,x)\\end{aligned}$$ The maps $r$ and $m$ both compose appropriately with the projection map $p$: $$\\begin{aligned}\n&p(a,x) = x = p(-a,x) = p(r(a,x)) \\\\\n&p(a_1,x) = p(a_2,x) = x = p(a_1+a_2,x) = p(m((a_1,x),(a_2,x))\\end{aligned}$$ Furthermore, $ps = {\\operatorname{Id}}_X$. Also $$\\begin{aligned}\nm(m((a_1,x),(a_2,x)),(a_3,x)) &= m((a_1+a_2,x),(a_3,x)) \\\\\n&= (a_1+a_2+a_3,x) \\\\\n&= m((a_1,x),(a_2+a_3,x)) \\\\\n&= m((a_1,x),m((a_2,x),(a_3,x))),\\\\\nm(s(x),(a,x)) &= m((0,x),(a,x)) \\\\\n&= (a,x) \\\\\n&= m((a,x),(0,x)) \\\\\n&= m((a,x),s(x)), \\\\\nm((a_1,x),(a_2,x)) &= (a_1+a_2,x) \\\\\n&= (a_2+a_1,x) \\\\\n&= m((a_2,x),(a_1,x)),\\end{aligned}$$ $$\\begin{aligned}\n\\mbox{and}\\qquad m(r(a,x),(a,x)) &= m((-a,x),(a,x)) \\\\\n&= (0,x) \\\\\n&= m((a,x),(-a,x)) \\\\\n&= m((a,x),r(a,x)),\\end{aligned}$$ so $T{\\mathcal{A}}$ is an Abelian group object in ${\\mathsf{Rack}}/X$.\n\nNow, given an Abelian group object $p{\\colon}R {\\rightarrow}X$ in ${\\mathsf{Rack}}/X$, with multiplication map $\\mu$, inverse map $\\nu$, and section $\\sigma$, let $R_x$ be the preimage $p^{-1}(x)$ for each $x \\in X$. Each of the $R_x$ has a canonical Abelian group structure defined in terms of the maps $\\mu, \\nu$, and $\\sigma$: $\\sigma(x)$ is the identity in $R_x$, and for any $u,v \\in R_x$ let $u+v := \\mu(u,v)$ and $-u := \\nu(u)$. That the preimage $R_x$ is closed under addition and inversion follows immediately from the fact that $\\mu$ and $\\nu$ are rack homomorphisms over $X$.\n\nNext, we define maps $$\\rho_{x,y}{\\colon}R_x {\\rightarrow}R_{x^y},\\ \\mbox{given by}\\  u \\mapsto u^{\\sigma(y)},$$ for all $x,y \\in X$ and $u \\in R_x$. These are Abelian group homomorphisms, since $\\rho_{x,y}\\sigma(x) = \\sigma(x)^{\\sigma(y)} =\n\\sigma(x^y)$ (which is the identity in $R_{x^y}$) and, for any $u_1,u_2 \\in\nR_x$, $$\\begin{aligned}\n\\rho_{x,y}(u_1+u_2) &= \\mu(u_1,u_2)^{\\sigma(y)} \\\\\n&= \\mu(u_1,u_2)^{\\mu(\\sigma(y),\\sigma(y))} \\\\\n&= \\mu(u_1^{\\sigma(y)},u_2^{\\sigma(y)}) \\\\\n&= \\rho_{x,y}(u_1) + \\rho_{x,y}(u_2).\\end{aligned}$$ It is also an isomorphism, since exponentiation by a fixed element of a rack is a bijection. Furthermore, for any $x,y,z \\in X$ and any $u \\in\nR_x$ $$\\begin{aligned}\n\\rho_{x^y,z}\\rho_{x,y}(u) &= u^{\\sigma(y)\\sigma(z)} \\\\\n&= u^{\\sigma(z)\\sigma(y)^{\\sigma(z)}} \\\\\n&= u^{\\sigma(z)\\sigma(y^z)} \\\\\n&= \\rho_{x^z,y^z}\\rho_{x,z}(u).\\end{aligned}$$ Now we define maps $$\\lambda_{y,x}{\\colon}R_y {\\rightarrow}R_{x^y},\\qquad \\mbox{given by}\\ v \\mapsto \\sigma(x)^v,$$ for all $x,y \\in X$ and $v \\in R_y$. These are also Abelian group homomorphisms since $$\\lambda_{y,x}\\sigma(y) = \\sigma(x)^{\\sigma(y)} =\n\\sigma(x^y)$$ (which is the identity in $R_{x^y}$) and, for any $v_1,v_2\n\\in R_y$, $$\\begin{aligned}\n\\lambda_{y,x}(v_1+v_2) &= \\sigma(x)^{\\mu(v_1,v_2)} \\\\\n&= \\mu(\\sigma(x),\\sigma(x))^{\\mu(v_1,v_2)} \\\\\n&= \\mu(\\sigma(x)^{v_1},\\sigma(x)^{v_2}) \\\\\n&= \\lambda_{y,x}(v_1) + \\lambda_{y,x}(v_2).\\end{aligned}$$ Also, for any $x,y,z \\in X$, $v \\in R_y$ and $w \\in R_z$ $$\\begin{aligned}\n\\rho_{x^y,z}\\lambda_{y,x}(v) &= \\sigma(x)^{v\\sigma(z)} \\\\\n&= \\sigma(x)^{\\sigma(z)v^{\\sigma(z)}} \\\\\n&= \\sigma(x^z)^{v^{\\sigma(z)}} \\\\\n&= \\lambda_{y^z,x^z}\\rho_{y,z}(v) \\\\\n\\mbox{and}\\qquad\\lambda_{z,x^y}(w) &= \\sigma(x^y)^w \\\\\n&= \\sigma(x)^{\\sigma(y)w} \\\\\n&= \\sigma(x)^{w\\sigma(y)^w} \\\\\n&= \\mu(\\sigma(x),\\sigma(x))^{\\mu(\\sigma(z),w)\n  \\mu(\\sigma(y),\\sigma(y))^{\\mu(w,\\sigma(z))}} \\\\\n&= \\mu\\left(\\sigma(x)^{\\sigma(z)\\sigma(y)^w},\n  \\sigma(x)^{w\\sigma(y)^{\\sigma(z)}}\\right) \\\\\n&= \\sigma(x)^{\\sigma(z)\\sigma(y)^w} + \\sigma(x)^{w\\sigma(y)^{\\sigma(z)}} \\\\\n&= \\sigma(x^z)^{\\sigma(y)^w} + \\sigma(x)^{w\\sigma(y^z)} \\\\\n&= \\lambda_{y^z,x^z}\\lambda_{z,y}(w) + \\rho_{x^z,y^z}\\lambda_{z,x}(w).\\end{aligned}$$ Thus an Abelian group object $R {\\rightarrow}X$ in ${\\mathsf{Rack}}/X$ determines a unique rack module ${\\mathcal{R}} = (R,\\rho,\\lambda)$ over $X$.\n\nFor any two such Abelian group objects $p_1{\\colon}R_1 {\\rightarrow}X$ and $p_2{\\colon}R_2\n{\\rightarrow}X$, together with a rack homomorphism $f_1{\\colon}R_1 {\\rightarrow}R_2$ over $X$, we may construct two $X$\u2013modules ${\\mathcal{R}}_1$ and ${\\mathcal{R}}_2$ as described above, and an $X$\u2013map $g_1{\\colon}{\\mathcal{R}}_1{\\rightarrow}{\\mathcal{R}}_2$ by setting $(g_1)_x(u) =\nf_1(u)$ for all $u \\in (R_1)_x$ and $x \\in X$. It may be seen that $(g_1)_x:(R_1)_x\n{\\rightarrow}(R_2)_x$ since $f_1$ is a rack homomorphism over $X$. It may also be seen that $g_1$ is a natural transformation of trunk maps ${\\mathsf{T}}(X) {\\rightarrow}{\\mathsf{Ab}}$ since $$\\begin{aligned}\n(g_1)_{x^y}((\\rho_1)_{x,y}(u)) &= f_1((\\rho_1)_{x,y}(u)) \\\\\n&= f_1(u^{\\sigma_1(y)}) \\\\\n&= f_1(u)^{f_1\\sigma_1(y)} \\\\\n&= f_1(u)^{\\sigma_2(y)} \\\\\n&= (\\rho_2)_{x,y}(g_1)_x(u) \\\\\n\\mbox{and}\\qquad(g_1)_{x^y}(\\lambda_1)_{y,x}(v) &= f_1((\\lambda_1)_{y,x}(v)) \\\\\n&= f_1(\\sigma_1(x)^v) \\\\\n&= f_1\\sigma_1(x)^{f_1(v)} \\\\\n&= \\sigma_2(x)^{f_1(v)} \\\\\n&= (\\lambda_2)_{y,x}(g_1)_x(v)\\end{aligned}$$ for all $u \\in R_x, v \\in R_y$, and $x,y \\in X$.\n\nGiven a third Abelian group object $p_3{\\colon}R_3 {\\rightarrow}X$ together with another slice morphism $f_2{\\colon}R_2 {\\rightarrow}R_3$, we may construct another $X$\u2013module ${\\mathcal{R}}_3$ and $X$\u2013map $g_2{\\colon}{\\mathcal{R}}_2 {\\rightarrow}{\\mathcal{R}}_3$. From the composition $f_2f_1$ we may similarly construct a unique $X$\u2013map $g{\\colon}{\\mathcal{R}}_1{\\rightarrow}{\\mathcal{R}}_3$. Then $$g_x(u) = (f_2f_1)(u) = (g_2)_x(f_1(u)) = (g_2)_x(g_1)_x(u).$$ Hence this construction determines a functor $S{\\colon}{\\mathsf{Ab}}({\\mathsf{Rack}}/X){\\rightarrow}{\\mathsf{RMod}}_X$, which is the inverse of the functor $T{\\colon}{\\mathsf{RMod}}_X{\\rightarrow}{\\mathsf{Ab}}({\\mathsf{Rack}}/X)$ described earlier.\n\n\\[cor:rmod-abelian\\] \\[thm:rmod-abelian\\] The category ${\\mathsf{RMod}}_X$ is Abelian.\n\nThe category ${\\mathsf{RMod}}_X$ is additive, as for any $X$\u2013modules ${\\mathcal{A}}$ and ${\\mathcal{B}}$, the set ${\\operatorname{Hom}}_{{\\mathsf{RMod}}_X}({\\mathcal{A}},{\\mathcal{B}})$ has an Abelian group structure given by $(f+g)_x(a) = f_x(a) + g_x(a)$ for all $f,g{\\colon}{\\mathcal{A}}{\\rightarrow}{\\mathcal{B}}$, all $x \\in X$ and all $a \\in A_x$. Furthermore, composition of $X$\u2013maps distributes over this addition operation. The $X$\u2013module with trivial orbit groups and structure homomorphisms is the zero object in ${\\mathsf{RMod}}_X$, and for any two $X$\u2013modules ${\\mathcal{A}} = (A,\\alpha,{\\varepsilon})$ and ${\\mathcal{B}} =\n(B,\\beta,\\zeta)$, the Cartesian product ${\\mathcal{A}}\\times{\\mathcal{B}}\n= (A \\times B, \\alpha\\times\\beta, {\\varepsilon}\\times\\zeta)$ is also an $X$\u2013module.\n\nGiven an $X$\u2013map $f{\\colon}{\\mathcal{B}} = (B,\\beta,\\zeta) {\\rightarrow}{\\mathcal{C}} =\n(C,\\gamma,\\eta)$ let ${\\mathcal{A}} = (A,\\alpha,{\\varepsilon})$ such that $A_x = \\{a \\in B_x : f_x(a) = 0\\}$, with $\\alpha_{x,y} =\n\\beta_{x,y}|_{A_x}$ and ${\\varepsilon}_{y,x} = \\zeta_{y,x}|_{A_y}$. Then ${\\mathcal{A}}$ is a submodule of ${\\mathcal{B}}$ and the inclusion $\\iota{\\colon}{\\mathcal{A}}\\hookrightarrow{\\mathcal{B}}$ is the (categorical) kernel of $f$.\n\nNow define ${\\mathcal{D}} = (D,\\delta,\\xi)$ where $D_x = C_x/{\\operatorname{im}}f_x$, and $\\delta_{x,y} =\\gamma_{x,y}+{\\operatorname{im}}f_x$ and $\\xi_{y,x} = \\eta_{y,x} + {\\operatorname{im}}f_y$. Then ${\\mathcal{D}}$ is a quotient of ${\\mathcal{C}}$ and the canonical projection map $\\pi{\\colon}{\\mathcal{C}}{\\rightarrow}{\\mathcal{D}}$ is the (categorical) cokernel of $f$.\n\nLet $\\mu{\\colon}{\\mathcal{H}}{\\rightarrow}{\\mathcal{K}}$ be an $X$\u2013monomorphism. Then the inclusion $\\iota{\\colon}{\\operatorname{im}}\\mu{\\rightarrow}{\\mathcal{K}}$ is a kernel of the quotient map $\\pi{\\colon}{\\mathcal{K}}{\\rightarrow}{\\mathcal{K}}/{\\operatorname{im}}\\mu$. Since $\\mu$ is injective, $\\mu'{\\colon}{\\mathcal{H}}{\\cong}{\\operatorname{im}}\\mu$ where $\\mu'_x(a) = \\mu_x(a)$ for all $x \\in X$ and $a \\in H_x$. But since kernels are unique up to composition with an isomorphism, and since $\\mu = \\iota\\mu'$, it follows that $\\mu$ is the kernel of its cokernel, the canonical quotient map $\\pi$.\n\nLet $\\nu{\\colon}{\\mathcal{H}}{\\rightarrow}{\\mathcal{K}}$ be an $X$\u2013epimorphism. Then the inclusion map $\\iota{\\colon}\\ker\\nu\\hookrightarrow{\\mathcal{H}}$ is a kernel of $\\nu$. Given another $X$\u2013map $\\kappa{\\colon}{\\mathcal{H}}{\\rightarrow}{\\mathcal{L}}$ such that $\\kappa\\iota = 0$, then $\\ker\\nu\\subseteq\\ker\\kappa$ so that $\\nu(a) =\n\\nu(b)$ implies that $\\kappa(a)=\\kappa(b)$. But since $\\nu$ is surjective we can define an $X$\u2013map $\\theta{\\colon}{\\mathcal{K}}{\\rightarrow}{\\mathcal{L}}$ by $\\theta_x\\nu_x(a) = \\kappa_x(a)$ for all $a \\in H_x$ and $x \\in X$. Then $\\theta\\nu = \\kappa$ and so $\\nu$ is a cokernel of $\\iota$.\n\nSo, every $X$\u2013map has a kernel and a cokernel, every monic $X$\u2013map is the kernel of its cokernel, and every epic $X$\u2013map is the cokernel of its kernel, and hence ${\\mathsf{RMod}}_X$ is an Abelian category.\n\nThese results justify the use of the term \u2018rack module\u2019 to describe the objects under consideration, and show that ${\\mathsf{RMod}}_X$ is an appropriate category in which to develop homology theories for racks. Papers currently in preparation will investigate new homology theories for racks, based on the derived functor approach of Cartan and Eilenberg [@cartan/eilenberg:homalg] and the cotriple construction of Barr and Beck [@barr/beck:standard-constructions].\n\nWe now introduce a notational convenience which may serve to simplify matters in future. Let $X$ be a rack, ${\\mathcal{A}} = (A,\\phi,\\psi)$ an $X$\u2013module, and $w = y_1 y_2 \\ldots y_n$ a word in ${\\operatorname{As}}X$. Then we may denote the composition $$\\phi_{x^{y_1 \\ldots y_{n-1}},y_n} \\phi_{x^{y_1 \\ldots y_{n-2}},y_{n-1}}\n  \\ldots \\phi_{x,y_1}$$ by $\\phi_{x,w} = \\phi_{x,y_1 \\ldots y_n}$. This shorthand is well-defined as the following lemma shows:\n\n\\[lem:asword\\] \\[thm:asword\\] If $y_1 \\ldots y_n$ and $z_1 \\ldots z_m$ are two different representative words for the same element $w \\in {\\operatorname{As}}X$, then the compositions $$\\begin{aligned}\n&\\phi_{x^{y_1 \\ldots y_{n-1}},y_n} \\phi_{x^{y_1 \\ldots y_{n-2}},y_{n-1}}\n  \\ldots \\phi_{x,y_1} \\\\\n\\mbox{and}\\qquad &\\phi_{x^{z_1 \\ldots z_{m-1}},z_m} \\phi_{x^{z_1 \\ldots\n  z_{m-2}},z_{m-1}} \\ldots \\phi_{x,z_1}\\end{aligned}$$ are equal, for all $x \\in X$. Furthermore, $\\phi_{x,1} = {\\operatorname{Id}}_{A_x}$, where $1$ denotes the identity in ${\\operatorname{As}}X$.\n\nLet $T{\\colon}{\\mathsf{RMod}}_X{\\rightarrow}{\\mathsf{Ab}}({\\mathsf{Rack}}/X)$ be the functor constructed in the proof of Theorem\u00a0\\[thm:rmod-beck\\], and recall that $R_x = T({\\mathcal{A}})_x$ has an Abelian group structure. For any $x,y \\in\nX$, the homomorphism $T(\\phi_{x,y}){\\colon}R_x {\\rightarrow}R_{x^y}$ maps $u \\mapsto\nu^{\\sigma(y)}$, where $\\sigma$ is the section of $T{\\mathcal{A}}$. Then for any $u \\in R_x$ $$\\begin{aligned}\nT(\\phi_{x^{y_1 \\ldots y_{n-1}},y_n} \\phi_{x^{y_1 \\ldots y_{n-2}},y_{n-1}}\n  \\ldots &\\phi_{x,y_1})(u) \\\\\n&= u^{\\sigma(y_1)\\ldots\\sigma(y_n)} \\\\\n&= u^{\\sigma(y_1 \\ldots y_n)} \\\\\n&= u^{\\sigma(z_1 \\ldots z_m)} \\\\\n&= u^{\\sigma(z_1)\\ldots\\sigma(z_m)} \\\\\n&= T(\\phi_{x^{z_1 \\ldots z_{m-1}},z_m} \\phi_{x^{z_1 \\ldots z_{m-2}},z_{m-1}}\n  \\ldots \\phi_{x,z_1})(u)\\end{aligned}$$ where the equality in the second and third lines follows from the functoriality of the associated group.\n\nThe final statement follows from the observation $$T(\\phi_{x,1})(u) = u^1 = u = T({\\operatorname{Id}}_{A_x})(u).$$ Hence this notation is well-defined.\n\nQuandle modules\n---------------\n\nWe now study the specialisation of rack modules to the subcategory ${\\mathsf{Quandle}}$. A [*quandle module*]{} is a rack module ${\\mathcal{A}} =\n(A,\\phi,\\psi)$ which satisfies the additional criterion $$\\label{eqn:qmod}\n\\psi_{x,x}(a) + \\phi_{x,x}(a) = a$$ for all $a \\in A_x$ and $x \\in X$. Where the context is clear, we may refer to such objects as [*$X$\u2013modules*]{}. There is an obvious notion of a [*homomorphism*]{} (or, in the absence of ambiguity, an [*$X$\u2013map*]{}) of quandle modules, and thus we may form the category ${\\mathsf{QMod}}_X$ of quandle modules over $X$.\n\nSimilarly to example \\[exm:andr/grana\\], Andruskiewitsch and Gra\u00f1a\u2019s definition of quandle modules coincides with the definition of a homogeneous quandle module in the sense of the current discussion.\n\nExamples \\[exm:abgroup\\], \\[exm:alexander\\], and \\[exm:dihedral\\] of the previous subsection, are also quandle modules. Example \\[exm:asx\\] is not, but the variant obtained by setting $\\psi_{y,x} = {\\operatorname{Id}}_{A} -\n\\phi_{x,y}$, for all $x,y \\in X$, is.\n\n\\[exm:andr/grana-qmod\\] [For an arbitrary quandle $X$, Andruskiewitsch and Gra\u00f1a [@andr/grana:pointed-hopf] further define a [*quandle $X$\u2013module*]{} to be a rack module (as in example \\[exm:andr/grana\\]) which satisfies the additional condition $$\\eta_{x,x} + \\tau_{x,x} = {\\operatorname{Id}}_A$$ for all $x \\in X$. This may be seen to be a homogeneous quandle $X$\u2013module in the context of the current discussion.]{}\n\nGiven a quandle $X$ and a quandle $X$\u2013module ${\\mathcal{A}}$, the semidirect product ${\\mathcal{A}} \\rtimes X$ has the same definition as before.\n\n\\[thm:semidirect-quandle\\] \\[prp:semidirect-quandle\\] If $X$ is a quandle and ${\\mathcal{A}} = (A,\\phi,\\psi)$ a quandle module over $X$, the semidirect product ${\\mathcal{A}} \\rtimes X$ is a quandle.\n\nBy proposition \\[prp:semidirect-rack\\], ${\\mathcal{A}} \\rtimes X$ is a rack, so we need only verify the quandle axiom. For any element $(a,x) \\in\n{\\mathcal{A}} \\rtimes X$, $$(a,x)^{(a,x)} = (\\phi_{x,x}(a) + \\psi_{x,x}(a),x^x) = (a,x)$$ and so ${\\mathcal{A}} \\rtimes X$ is a quandle.\n\nThese objects coincide with the Beck modules in the category ${\\mathsf{Quandle}}$.\n\n\\[thm:qmod-beck\\] For any quandle $X$, there is an equivalence of categories $${\\mathsf{QMod}}_X {\\cong}{\\mathsf{Ab}}({\\mathsf{Quandle}}/X)$$\n\nAs in the proof of Theorem\u00a0\\[thm:rmod-beck\\], we identify the quandle module ${\\mathcal{A}} = (A,\\phi,\\psi)$ with ${\\mathcal{A}} \\rtimes X {\\rightarrow}X$ in the slice category ${\\mathsf{Quandle}}/X$. Proposition \\[prp:semidirect-quandle\\] ensures that this object is indeed a quandle over $X$, and hence we obtain a well-defined functor $T{\\colon}{\\mathsf{QMod}}_X{\\rightarrow}{\\mathsf{Ab}}({\\mathsf{Quandle}}/X)$.\n\nConversely, suppose that $R{\\rightarrow}X$ is an Abelian group object in ${\\mathsf{Quandle}}/X$, with multiplication map $\\mu$, inverse map $\\nu$, and section $\\sigma$. As before, we may construct a rack module ${\\mathcal{R}} =\n(R,\\rho,\\lambda)$ over $X$. It remains only to show that this module satisfies the additional criterion (\\[eqn:qmod\\]) for it to be a quandle module over $X$. But $$\\begin{aligned}\n\\lambda_{x,x}(a) + \\rho_{x,x}(a) &= \\mu(\\sigma(x)^a,a^{\\sigma(x)}) \\\\\n&= \\mu(\\sigma(x),a)^{\\mu(a,\\sigma(x))} \\\\\n&= \\mu(\\sigma(x),a)^{\\mu(\\sigma(x),a)} \\\\\n&= \\mu(\\sigma(x)^{\\sigma(x)},a^a) = a\\end{aligned}$$ and so ${\\mathcal{R}}$ is indeed a quandle $X$\u2013module.\n\nThe category ${\\mathsf{QMod}}_X$ is Abelian.\n\nThis proof is exactly the same as the proof of Theorem\u00a0\\[cor:rmod-abelian\\].\n\nAnalogously to the previous subsection, we may conclude that our use of the term \u2018quandle module\u2019 is justified, and that the category ${\\mathsf{QMod}}_X$ is a suitable environment in which to study the homology and cohomology of quandles.\n\nAbelian extensions\n==================\n\nHaving characterised suitable module categories, we may now study extensions of racks and quandles by these objects. Rack extensions have been studied before, in particular by Ryder [@ryder:thesis] under the name \u2018expansions\u2019; the constructs which she dubs \u2018extensions\u2019 are in some sense racks formed by disjoint unions, whereby the original rack becomes a subrack of the \u2018extended\u2019 rack. Ryder\u2019s notion of rack expansions is somewhat more general than the extensions studied here, as she investigates arbitrary congruences (equivalently, rack epimorphisms onto a quotient rack) whereas we will only examine certain classes of such objects.\n\nAbelian extensions of racks\n---------------------------\n\nAn [*extension*]{} of a rack $X$ by an $X$\u2013module ${\\mathcal{A}}\n= (A,\\phi,\\psi)$ consists of a rack $E$ together with an epimorphism $f{\\colon}E {\\twoheadrightarrow}X$ inducing a partition $E = \\bigcup_{x \\in X}\nE_x$ (where $E_x$ is the preimage $f^{-1}(x)$), and for each $x \\in X$ a left $A_x$\u2013action on $E_x$ satisfying the following three conditions:\n\n1.  The $A_x$\u2013action on $E_x$ is simply transitive, which is to say that for any $u,v \\in E_x$ there is a unique $a \\in A_x$ such that $a\n    \\cdot u = v$.\n\n2.  For any $u \\in E_x$, $a \\in A_x$, and $v \\in E_y$, $(a \\cdot\n    u)^v = \\phi_{x,y}(a) \\cdot (u^v)$.\n\n3.  For any $u \\in E_y$, $b \\in A_y$, and $v \\in E_y$, $u^{(b \\cdot\n    v)} = \\psi_{y,x}(b) \\cdot (u^v)$.\n\nTwo extensions $f_1{\\colon}E_1 {\\twoheadrightarrow}X$ and $f_2{\\colon}E_2 {\\twoheadrightarrow}X$ by the same $X$\u2013module ${\\mathcal{A}}$ are [*equivalent*]{} if there exists a rack isomorphism (an [*equivalence*]{}) $\\theta{\\colon}E_1 {\\rightarrow}E_2$ which respects the projection maps and the group actions:\n\n1.  $f_2\\theta(u) = f_1(u)$ for all $u \\in E_1$\n\n2.  $\\theta(a \\cdot u) = \\theta(a) \\cdot u$ for all $u \\in E_x$, $a \\in A_x$ and $x \\in X$.\n\nLet $f{\\colon}E {\\twoheadrightarrow}X$ be an extension of $X$ by ${\\mathcal{A}}$. Then a [*section*]{} of $E$ is a function (not necessarily a rack homomorphism) $s{\\colon}X {\\rightarrow}E$ such that $fs = {\\operatorname{Id}}_X$. Since the $A_x$ act simply transitively on the $E_x$, there is a unique $x \\in X$ and a unique $a \\in\nA_x$ such that a given element $u \\in E_x$ can be written as $u = a \\cdot\ns(x)$. Since $f$ is a homomorphism, it follows that $s(x)^{s(y)} \\in\nE_{x^y}$ and so there is a unique $\\sigma_{x,y} \\in A_{x^y}$ such that $s(x)^{s(y)} = \\sigma_{x,y} \\cdot s(x^y) $. The set $\\sigma = \\{\n\\sigma_{x,y} : x,y \\in X \\}$ is the [*factor set*]{} of the extension $E$ [*relative to*]{} the section $s$, and may be regarded as an obstruction to $s$ being a rack homomorphism.\n\nIt follows that, for all $x,y \\in X$, $a \\in A_x$, and $b \\in A_y$ $$\\begin{aligned}\n(a \\cdot s(x))^{(b \\cdot s(y))} &= \\phi_{x,y}(a) \\cdot s(x)^{(b \\cdot s(y))} \\\\\n&= (\\psi_{y,x}(b) + \\phi_{x,y}(a)) \\cdot s(x)^{s(y)} \\\\\n&= (\\psi_{y,x}(b) + \\phi_{x,y}(a) + \\sigma_{x,y}) \\cdot s(x^y) \\end{aligned}$$ Thus the rack structure on $E$ is determined completely by the factor set $\\sigma$. The next result gives necessary and sufficient conditions on factor sets of arbitrary rack extensions.\n\n\\[thm:rack-ext1\\] \\[prp:rack-ext1\\] Let $X$ be a rack, and ${\\mathcal{A}} = (A,\\phi,\\psi)$ be an $X$\u2013module. Let $\\sigma = \\{ \\sigma_{x,y} \\in A_{x^y} : x,y \\in X \\}$ be a collection of group elements. Let $E[{\\mathcal{A}},\\sigma]$ be the set $\\{ (a,x) : a \\in\nA_x, x \\in X \\}$ with rack operation $$(a,x)^{(b,y)} = (\\phi_{x,y}(a) + \\sigma_{x,y} + \\psi_{y,x}(b), x^y)$$ for all $a \\in A_x$, $b \\in A_y$, and $x,y \\in X$.\n\nThen $E[{\\mathcal{A}},\\sigma]$ is an extension of $X$ by ${\\mathcal{A}}$ with factor set $\\sigma$ if $$\\label{eqn:rack-ext1}\n\\sigma_{x^y,z} + \\phi_{x^y,z}(\\sigma_{x,y}) = \\phi_{x^z,y^z}(\\sigma_{x,z})\n  + \\sigma_{x^z,y^z} + \\psi_{y^z,x^z}(\\sigma_{y,z})$$ for all $x,y,z \\in X$. Conversely, if $E$ is an extension of $X$ by ${\\mathcal{A}}$ with factor set $\\sigma$ then (\\[eqn:rack-ext1\\]) holds, and $E$ is equivalent to $E[{\\mathcal{A}},\\sigma]$.\n\nTo prove the first part, we require that $E[{\\mathcal{A}},\\sigma]$ satisfy the rack axioms. Given $(a,x), (b,y) \\in E[{\\mathcal{A}},\\sigma]$, there is a unique $(c,z) \\in E[{\\mathcal{A}},\\sigma]$ such that $(c,z)^{(b,y)} = (a,x)$, given by $$(c,z) = (\\phi_{x,y}^{-1}(a - \\sigma_{x,y} - \\psi_{y,x}(b)),x^{\\overline{y}})$$ Also, for any $(a,x), (b,y), (c,z) \\in  E[{\\mathcal{A}},\\sigma]$, $$\\begin{aligned}\n(a,x)^{(b,y)(c,z)}\n  &= (\\phi_{x,y}(a) + \\sigma_{x,y} + \\psi_{y,x}(b),x^y)^{(c,z)} \\\\\n&= (\\phi_{x^y,z}\\phi_{x,y}(a) + \\phi_{x^y,z}(\\sigma_{x,y}) +\n  \\phi_{x^y,z}\\psi_{y,x}(b) + \\sigma_{x^y,z} + \\psi_{z,x^y}(c), x^{yz})\\end{aligned}$$ and $$\\begin{aligned}\n(a,x)^{(c,z)(b,y)^{(c,z)}}\n  &= (\\phi_{x,z}(a) + \\sigma_{x,z} + \\psi_{z,x}(c),x^z)^{(\\phi_{y,z}(b) +\n  \\sigma_{y,z} + \\psi_{z,y}(c),y^z)} \\\\\n&= (\\phi_{x^z,y^z}\\phi_{x,z}(a) + \\phi_{x^z,y^z}(\\sigma_{x,z}) +\n  \\phi_{x^z,y^z}\\psi_{z,x}(c) + \\sigma_{x^z,y^z} \\\\\n&\\qquad+ \\psi_{y^z,x^z}\\phi_{y,z}(b) + \\psi_{y^z,x^z}(\\sigma_{y,z}) +\n  \\psi_{y^z,x^z}\\psi_{z,y}(c), x^{zy^z})\\end{aligned}$$ are equal if (\\[eqn:rack-ext1\\]) holds, and so $E[{\\mathcal{A}},\\sigma]$ is a rack.\n\nNow define $f{\\colon}E[{\\mathcal{A}},\\sigma] {\\twoheadrightarrow}X$ to be projection onto the second coordinate, and let $A_x$ act on $E[{\\mathcal{A}},\\sigma]_x = f^{-1}(x)$ by $a_1 \\cdot (a_2,x) := (a_1 + a_2,x)$ for each $a_1,a_2 \\in A_x$ and all $x\n\\in X$. These actions are simply transitive and satisfy the requirements $$\\begin{aligned}\n(a_1 \\cdot (a_2,x))^{(b,y)} = (a_1+a_2, x)^{(b,y)}\n&= (\\phi_{x,y}(a_1+a_2) + \\sigma_{x,y} + \\psi_{y,x}(b),x^y) \\\\\n&= (\\phi_{x,y}(a_1) + \\phi_{x,y}(a_2) + \\sigma_{x,y} + \\psi_{y,x}(b),x^y) \\\\\n&= \\phi_{x,y}(a_1) \\cdot (\\phi_{x,y}(a_2) + \\sigma_{x,y} +\n  \\psi_{y,x}(b),x^y) \\\\\n&= \\phi_{x,y}(a_1) \\cdot (a_2,x)^{(b,y)}\\\\\n\\mbox{and}\\qquad(a,x)^{b_1 \\cdot (b_2,y)} &= (a,x)^{(b_1+b_2,y)} \\\\\n&= (\\phi_{x,y}(a) + \\sigma_{x,y} + \\psi_{y,x}(b_1+b_2),x^y) \\\\\n&= (\\phi_{x,y}(a) + \\sigma_{x,y} + \\psi_{y,x}(b_1) + \\psi_{y,x}(b_2),x^y) \\\\\n&= \\psi_{y,x}(b_1) \\cdot (\\phi_{x,y}(a) + \\sigma_{x,y} + \\psi_{y,x}(b_2),x^y) \\\\\n&= \\psi_{y,x}(b_1) \\cdot (a,x)^{(b_2,y)}\\end{aligned}$$ so $E[{\\mathcal{A}},\\sigma]$ is an extension of $X$ by ${\\mathcal{A}}$. Now define $s{\\colon}X {\\twoheadrightarrow}E[{\\mathcal{A}},\\sigma]$ by $s(x) = (0,x)$ for all $x \\in\nX$. This is clearly a section of this extension. Also, $$s(x)^{s(y)} = (0,x)^{(0,y)} = (\\sigma_{x,y},x^y) =\n  \\sigma_{x,y} \\cdot s(x^y)$$ so $\\sigma$ is the factor set of this extension relative to the section $s$.\n\nConversely, let $f{\\colon}E {\\twoheadrightarrow}X$ be an extension of $X$ by a given $X$\u2013module ${\\mathcal{A}}$, with factor set $\\sigma$ relative to some extension $s{\\colon}X {\\rightarrow}E$. By the simple transitivity of the $A_x$\u2013action on the $E_x = f^{-1}(x)$, the map $\\theta{\\colon}(a,x) \\mapsto a \\cdot s(x)$ is an isomorphism $E[{\\mathcal{A}},\\sigma] {\\cong}E$. Since $E$ is a rack, the earlier part of the proof shows that (\\[eqn:rack-ext1\\]) holds, and so $E[{\\mathcal{A}},\\sigma]$ is another extension of $X$ by ${\\mathcal{A}}$. Furthermore, $\\theta$ respects the projection maps onto $X$, and $$\\theta(a_1 \\cdot (a_2,x)) = \\theta(a_1+a_2,x) = (a_1+a_2) \\cdot s(x)\n  = a_1 \\cdot (a_2 \\cdot s(x)) = a_1 \\cdot \\theta(a_2,x)$$ so $\\theta$ is an equivalence of extensions.\n\nAndruskiewitsch and Gra\u00f1a [@andr/grana:pointed-hopf] introduce the notion of an extension by a [*dynamical cocycle*]{}. Given an arbitrary rack $X$ and a non-empty set $S$, we select a function $\\alpha{\\colon}X \\times\nX {\\rightarrow}{\\operatorname{Hom}}_{\\mathsf{Set}}(S \\times S,S)$ (which determines, for each ordered pair $x,y \\in X$, a function $\\alpha_{x,y}{\\colon}S \\times S {\\rightarrow}S$) satisfying the criteria\n\n1.  $\\alpha_{x,y}(s,-)$ is a bijection on $S$\n\n2.  $\\alpha_{x^y,z}(s,\\alpha_{x,y}(t,u)) =\n      \\alpha_{x^z,y^z}(\\alpha_{x,z}(s,t),\\alpha_{x,y}(s,u))$\n\nfor all $x,y,z \\in X$ and $s,t,u \\in S$. Then we may define a rack structure on the set $X \\times S$ by defining $(x,s)^{(y,t)} =\n(x^y,\\alpha_{x,y}(s,t))$. This rack, denoted $X \\times_\\alpha S$, is the extension of $X$ by $\\alpha$. In the case where $S$ is an Abelian group, and $\\alpha_{x,y}(s,t) = \\phi_{x,y}(s) + \\sigma_{x,y} + \\psi_{y,s}(t)$ for some suitably-chosen Abelian group homomorphisms $\\phi_{x,y},\\psi_{y,x}{\\colon}S {\\rightarrow}S$, and family $\\sigma = \\{ \\sigma_{x,y} \\in S : x,y \\in X \\}$ of elements of $S$, then this is equivalent to the construction $E[{\\mathcal{A}},\\sigma]$ just discussed, for a homogeneous $X$\u2013module ${\\mathcal{A}} = (A,\\phi,\\psi)$.\n\n\\[thm:rack-ext2\\] \\[prp:rack-ext2\\] Let $\\sigma$ and $\\tau$ be factor sets corresponding to extensions of a rack $X$ by an $X$\u2013module ${\\mathcal{A}}$. Then the following are equivalent:\n\n1.  $E[{\\mathcal{A}},\\sigma]$ and $E[{\\mathcal{A}},\\tau]$ are equivalent extensions of $X$ by ${\\mathcal{A}}$\n\n2.  there exists a family $\\upsilon = \\{ \\upsilon_x \\in A_x : x \\in X \\}$ such that $$\\label{eqn:rack-ext2}\n      \\tau_{x,y} = \\sigma_{x,y}\n        + \\phi_{x,y}(\\upsilon_x) + \\psi_{y,x}(\\upsilon_y) - \\upsilon_{x^y}$$ for $x,y \\in X$.\n\n3.  $\\sigma$ and $\\tau$ are factor sets of the same extension of $X$ by ${\\mathcal{A}}$, relative to different sections.\n\nLet $\\theta{\\colon}E[{\\mathcal{A}},\\tau] {\\cong}E[{\\mathcal{A}},\\sigma]$ be the hypothesised equivalence. Then it follows that $\\theta(0,x) =\n(\\upsilon_x,x)$ for some $\\upsilon_x \\in A_x$ and, furthermore, $$\\theta(a,x) = \\theta(a \\cdot (0,x)) = a \\cdot \\theta(0,x)\n  = a \\cdot (\\upsilon_x,x) = (a + \\upsilon_x,x)$$ for all $a \\in A_x$, since $\\theta$ preserves the $A_x$\u2013actions. Then $$\\begin{aligned}\n&\\theta\\bigl((a,x)^{(b,y)}\\bigr) = (\\phi_{x,y}(a) + \\psi_{y,x}(b) +\n  \\tau_{x,y} + \\upsilon_{x^y}, x^y) \\\\\n\\mbox{and}\\qquad&\\theta(a,x)^{\\theta(b,y)} = (a + \\upsilon_x,x)^{(b+\\upsilon_y,y)} =\n  (\\phi_{x,y}(a+\\upsilon_x) + \\psi_{y,x}(b+\\upsilon_y) + \\sigma_{x,y},x^y)\\end{aligned}$$ which are equal since $\\theta$ is a rack homomorphism, and so (\\[eqn:rack-ext2\\]) holds. This argument is reversible, showing the equivalence of the first two statements.\n\nNow, given such an equivalence $\\theta$, define a section $s{\\colon}X {\\rightarrow}E[{\\mathcal{A}},\\tau]$ by $x \\mapsto (\\upsilon_x,x)$. Then the above argument also shows that $$\\begin{aligned}\n&s(x)^{b \\cdot s(y)} = (\\upsilon_x,x)^{(\\upsilon_y+b,y)} =\n  (\\sigma_{x,y} + \\psi_{y,x}(b)) \\cdot s(x^y) \\\\\n\\mbox{and}\\qquad &(a \\cdot s(x))^{s(y)} = (\\upsilon_x+a,x)^{(\\upsilon_y,y)} =\n  (\\sigma_{x,y} + \\phi_{x,y}(a)) \\cdot s(x^y)\\end{aligned}$$ so $\\sigma$ is the factor set of $E[{\\mathcal{A}},\\tau]$ relative to the section $s$. This property holds for any extension equivalent to $E[{\\mathcal{A}},\\tau]$. Conversely, if $\\sigma$ and $\\tau$ are factor sets of some extension $E$ of $X$ by ${\\mathcal{A}}$ relative to different sections $s,t{\\colon}X {\\rightarrow}E$ then $s(x) = \\upsilon_x \\cdot t(x)$ for some $\\upsilon_x\n\\in A_x$, and so the first and third conditions are equivalent.\n\nThe following corollary justifies the earlier assertion that the factor set is in some sense the obstruction to a section being a rack homomorphism.\n\n\\[thm:rack-ext3\\] \\[cor:rack-ext3\\] For an extension $f{\\colon}E {\\twoheadrightarrow}X$ by an $X$\u2013module ${\\mathcal{A}} =\n(A,\\phi,\\psi)$, the following statements are equivalent:\n\n1.  There exists a rack homomorphism $s{\\colon}X {\\rightarrow}E$ such that $fs = {\\operatorname{Id}}_X$\n\n2.  Relative to some section, the factor set of $E {\\twoheadrightarrow}X$ is trivial\n\n3.  Relative to any section there exists, for the factor set $\\sigma$ of $E {\\twoheadrightarrow}X$, a family $\\upsilon = \\{\\upsilon_x \\in A_x : x \\in X \\}$ such that for all $x,y \\in X$ $$\\label{eqn:rack-ext3}\n    \\sigma_{x,y} = \\phi_{x,y}(\\upsilon_x) - \\upsilon_{x^y} + \\psi_{y,x}(\\upsilon_y)$$\n\nExtensions of this type are said to be [*split*]{}. We are now able to classify rack extensions:\n\n\\[thm:rack-ext4\\] Let $X$ be a rack and ${\\mathcal{A}} = (A,\\phi,\\psi)$ an $X$\u2013module. Then there is an Abelian group ${\\operatorname{Ext}}(X,{\\mathcal{A}})$ whose elements are in bijective correspondence with extensions of $X$ by ${\\mathcal{A}}$.\n\nLet the set $Z(X,{\\mathcal{A}})$ consist of extensions of $X$ by ${\\mathcal{A}}$. As shown above, these are determined by factor sets $\\sigma$ satisfying (\\[eqn:rack-ext1\\]). Defining an addition operation by $(\\sigma+\\tau)_{x,y} := \\sigma_{x,y} + \\tau_{x,y}$ gives this an Abelian group structure with the trivial factor set as identity. A routine calculation confirms that the set $B(X,{\\mathcal{A}})$ of split extensions (equivalently, factor sets satisfying (\\[eqn:rack-ext3\\])) forms an Abelian subgroup of $Z(X,{\\mathcal{A}})$, and so we may define ${\\operatorname{Ext}}(X,{\\mathcal{A}}) := Z(X,{\\mathcal{A}})/B(X,{\\mathcal{A}})$.\n\nIn the case where ${\\mathcal{A}}$ is a trivial homogeneous $X$\u2013module (equivalently, an Abelian group $A$) the group ${\\operatorname{Ext}}(X,{\\mathcal{A}})$ coincides with $H^2(BX;A)$, the second cohomology group of the rack space of $X$ as defined by Fenn, Rourke and Sanderson [@fenn/rourke/sanderson:trunks].\n\nAbelian extensions of quandles\n------------------------------\n\nWe now turn our attention to the case where $X$ is a quandle. Extensions of $X$ by a quandle $X$\u2013module ${\\mathcal{A}}$ and their corresponding factor sets are defined in an analogous manner.\n\n\\[thm:quandle-ext1\\] \\[prp:quandle-ext1\\] Let $X$ be a quandle and ${\\mathcal{A}} = (A,\\phi,\\psi)$ be a quandle module over $X$. Then extensions $f{\\colon}E {\\twoheadrightarrow}X$ such that $E$ is also a quandle are in bijective correspondence with factor sets $\\sigma$ satisfying hypothesis (\\[eqn:rack-ext1\\]) of proposition \\[thm:rack-ext1\\] together with the additional criterion $$\\label{eqn:quandle-ext1}\n\\sigma_{x,x} = 0$$ for all $x \\in X$.\n\nFollowing the reasoning of proposition \\[thm:rack-ext1\\], for $E$ to be a quandle is equivalent to the requirement that $$(a,x)^{(a,x)} = (\\phi_{x,x}(a) + \\sigma_{x,x} + \\psi_{x,x}(a),x^x)\n  = (a,x)$$ for all $x \\in X$ and $a \\in A_x$. Since ${\\mathcal{A}}$ is a quandle module, this is equivalent to the requirement that (\\[eqn:quandle-ext1\\]) holds.\n\nWe may now classify quandle extensions of $X$ by ${\\mathcal{A}}$:\n\n\\[thm:quandle-ext2\\] For any quandle $X$ and quandle $X$\u2013module ${\\mathcal{A}}$, there is an Abelian group ${\\operatorname{Ext}}_Q(X,{\\mathcal{A}})$ whose elements are in bijective correspondence with quandle extensions of $X$ by ${\\mathcal{A}}$.\n\nWe proceed similarly to the proof of Theorem\u00a0\\[thm:rack-ext4\\]. Let $Z_Q(X,{\\mathcal{A}})$ be the subgroup of $Z(X,{\\mathcal{A}})$ consisting of factor sets satisfying the criterion (\\[eqn:quandle-ext1\\]), and let $B_Q(X,{\\mathcal{A}}) = B(X,{\\mathcal{A}})$. Then we define ${\\operatorname{Ext}}_Q(X,{\\mathcal{A}}) =\nZ_Q(X,{\\mathcal{A}})/B_Q(X,{\\mathcal{A}})$.\n\nIn the case where ${\\mathcal{A}}$ is trivial homogeneous (and hence equivalent to an Abelian group $A$), extensions of $X$ by ${\\mathcal{A}}$ correspond to Abelian quandle extensions, in the sense of Carter, Saito and Kamada [@carter/kamada/saito:diag] and so ${\\operatorname{Ext}}_Q(X,{\\mathcal{A}}) =\nH^2_Q(X;A)$.\n\nIf the module ${\\mathcal{A}}$ is a homogeneous Alexander module as defined in example \\[exm:alexander\\], then extensions of $X$ by ${\\mathcal{A}}$ are exactly the twisted quandle extensions described by Carter, Saito and Elhamdadi [@carter/elhamdadi/saito:twisted], and so ${\\operatorname{Ext}}_Q(X,{\\mathcal{A}}) = H^2_{TQ}(X;A)$.\n\n[99]{}\n\n, [Mat\u00edas Gra\u00f1a]{}, *From racks to pointed Hopf algebras*, Advances in Mathematics **178** (2003) 177\u2013243 , [Jonathan Beck]{}, *Homology and standard constructions*, from: \u201cSeminar on Triples and Categorical Homology Theory\u201d, volume 80 of Lecture Notes in Mathematics, Springer\u2013Verlag (1969) 245\u2013335 , *Triples, algebras and cohomology*, PhD thesis, Columbia University (1967). Republished as: Reprints in Theory and Applications of Categories **2** (2003) 1\u201359 , *Automorphic sets and singularities*, Contemporary Mathematics **78** (1988) 45\u2013115 , [Samuel Eilenberg]{}, *Homological Algebra*, Princeton University Press (1999) , [Mohamed Elhamdadi]{}, [Masahico Saito]{}, *Twisted quandle homology theory and cocycle knot invariants*, Algebraic and Geometric Topology **2** (2002) 95\u2013135 , [Seiichi Kamada]{}, [Masahico Saito]{}, *Diagrammatic computations for quandles and cocycle knot invariants*, from: \u201cDiagrammatic morphisms and applications (San Francisco, CA, 2000)\u201d, Contemporary Mathematics **318** (2003) 51\u201374 , [Gavin Wraith]{}, unpublished correspondence (1959)\n\n, [Mat\u00edas Gra\u00f1a]{}, *On rack cohomology*, Journal of Pure and Applied Algebra **177** (2003) 49\u201359 , [Colin Rourke]{}, *Racks and links in codimension 2*, Journal of Knot Theory and its Ramifications **1** (1992) 343\u2013406 , [Colin Rourke]{}, [Brian Sanderson]{}, *Trunks and classifying spaces*, Applied Categorical Structures **3** (1995) 321\u2013356 , *Homological algebra of racks and quandles*, PhD thesis, Mathematics Institute, University of Warwick (2004)\n\n, *A classifying invariant of knots: the knot quandle*, Journal of Pure and Applied Algebra **23** (1982) 37\u201365 , *The structure of racks*, PhD thesis, Mathematics Institute, University of Warwick (1993)\n"
}