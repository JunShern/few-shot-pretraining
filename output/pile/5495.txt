{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": true,
            "reason": "Text contains ['These few easy steps are documented in this section. (0.197)']."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": true,
            "reason": "Text contains ['These few easy steps are documented in this section. (0.184)']."
        }
    ],
    "doc_id": "5495",
    "text": "Q:\n\nIntegrating OAuth 2.0 with CodeIgniter\n\nhttps://github.com/alexbilbie/CodeIgniter-OAuth-2.0-Server\nI have found this on GitHub however the steps to implement don't really help with installing the OAuth code into CodeIgniter and haven't found any really good articles on how to do this\nHas anyone already done this that can offer me help setting this up?\n\nA:\n\nH\u00e9 Hoang,\nThe oAuth library isn't really self explanatory. This is how I got it working:\nBasics\n\nRead the oAuth 2.0 draft 23 just enough to get a basic idea of oAuth, the roles and flows.\nThen follow the instructions for installing the controller and libraries from alexbilbie in your CodeIgniter install\nInstall the tables and add an application and some roles (think off a Facebook App and the roles you can request permissions for)\nMake sure you made your validate_user function in the oAuth_server.php file, at the bottom somewhere\n\nDo a request\nNow you want to perform an Authorization Request as a client. These few easy steps are documented in this section.\nEdit: Philsturgeon's oAuth 2.0 authorization library could be used to automate this. Described here is the manual way.\nFor the library, this means going to:\n/index.php/oauth?client_id=IN_YOUR_APPLICATION&redirect_uri=IN_YOUR_APPLICATION&response_type=code&scope=YOUR_ROLE\nFill in the variabels with the data you've putten in the database.\nDebug some of the error's it might give..\nIf all goes well you dit the following:\nSign in -> Authorize application -> See you redirect_uri page with ?code=XXXXXXX\nYou'll want that XXXXXXX code\nThen on the redirect_uri make a post to /index.php/oauth/access_token\nWith these variabels (you know them all now)\n\nclient_id (in application table)\nclient_secret (in application table)\nredirect_uri (in application table: where you want to go to save the access_token)\ncode (the XXXXXX)\ngrant_type (must be 'authorization_code') You know this after reading that section!  \n\nThat post returns a JSON string containing the access_token (or an error). YEAH!\nWhat's next\nSave the access_token in you actual application and use it in requests. On your resource server (probably an API and the same CodeIgniter project as the Authorization server I just explained) you need to validate the access_token before returning results.\nThis works like this:\n$this->load->library('oauth_resource_server');\nif (!$this->oauth_resource_server->has_scope(array('account.basic')))\n{\n    // Error logic here - \"access token does not have correct permission\"\n    show_error('An access token is required to request this resource.');\n}\nelse\n{\n    //GO RETURN RESULTS\n}\n\nHope this gets you up and running!\nPS: You need to build some admin area to manage applications, sessions and roles yourself though. \nEric \n\nA:\n\nI used another spark library that is really good to use with codeigniter. \nhere is the good tutorial on how to install this with spark and use it. \nOauth tutorial for codeigniter\n\n"
}