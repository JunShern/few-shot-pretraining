{
    "criteria": [
        {
            "criterion": "AllDocuments",
            "passed": true,
            "reason": "All documents pass."
        },
        {
            "criterion": "QuestionAnswerStringsV2",
            "passed": true,
            "reason": "Text contains ['Q:', 'A:']."
        },
        {
            "criterion": "FullyStructured",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStrings",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesStringsV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ListPrefixV2",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesMinimalEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesSynonymsEmbed",
            "passed": false,
            "reason": "Does not meet criterion."
        },
        {
            "criterion": "ExamplesDiverseEmbed",
            "passed": true,
            "reason": "Text contains [\"BUT... take a look to aws_env.conf: you'll find some hints (it looks like the name of documentRoot is somewhat changed: for example, in my version is PHP_DOCUMENT_ROOT). (0.197)\"]."
        }
    ],
    "doc_id": "6214",
    "text": "Q:\n\nAWS Beanstalk and Apache VirtualHost SSL custom DocumentRoot\n\nI already configured my .ebextensions directory to install SLL files and configure ssl.conf apache file. Everything is working perfect, instead the DocumentRoot of my ssl.conf that is not overwriting my Elastic Beanstalk default DocumentRoot.\nProblem: When I access https://dashboard.mydomain.com its also pointing to /home instead /dashboard folder.\n\nElastic BeanStalk Default DocumentRoot:\n\nDirectory Files:\nhome/ -> Accessed by http://www.mydomain.com/\n  ...\ndashboard/ -> Accessed by https://dashboard.mydomain.com (DocumentRoot isn't working, its also pointing to /home)\n  ...\nframework/ (Secure)\n\nssl.conf:\nLoadModule ssl_module modules/mod_ssl.so\nListen 443\n<VirtualHost *:443>\n    ServerName dashboard.mydomain.com\n    DocumentRoot /var/www/html/dashboard -- NOT WORKING\n     <Proxy *>\n        Order deny,allow\n        Allow from all\n    </Proxy>\n    SSLEngine on\n    SSLCertificateChainFile \"/etc/httpd/ssl/gd_bundle.crt\"\n    SSLCertificateFile \"/etc/httpd/ssl/cert.crt\"\n    SSLCertificateKeyFile \"/etc/httpd/ssl/key.key\"\n\n    ProxyPass / http://localhost:80/ retry=0\n    ProxyPassReverse / http://localhost:80/\n    ProxyPreserveHost on\n\n    LogFormat \"%h (%{X-Forwarded-For}i) %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"\n    ErrorLog /var/log/httpd/elasticbeanstalk-error_log\n    TransferLog /var/log/httpd/elasticbeanstalk-access_log\n</VirtualHost>\n\nA:\n\nUPDATE 2014 feb 08\nI did some tests and I found out that the ProxyPass directive does not simply redirect every request from port 443 to localhost:80 (as one could easily thought), but basically  repeats the request to Apache from scratch, through the port 80 (at least, that's what I understood).\nSo, if you want to set any environment variable, you need to do it in the matching VirtualHost, adding to your .conf something like this:\nListen 80\n<VirtualHost *:80>\n    DocumentRoot /var/www/html/dashboard\n</VirtualHost>\n\nThis will be executed with every request (80 or 443).\nEND UPDATE\nI have no idea why, but here two suggestions: the .conf in /etc/httpd/conf.d are processed in alphabetical order.\nThis doesn't explain why your configuration don't take over, because the environmental variables are set in aws_env.conf\nBUT... take a look to aws_env.conf: you'll find some hints (it looks like the name of documentRoot is somewhat changed: for example, in my version is PHP_DOCUMENT_ROOT).\nGood luck, let us know if you find out.\n\n"
}